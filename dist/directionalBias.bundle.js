!function(t){var e={};function s(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,s),r.l=!0,r.exports}s.m=t,s.c=e,s.d=function(t,e,i){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},s.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(s.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)s.d(i,r,function(e){return t[e]}.bind(null,r));return i},s.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="",s(s.s=2)}([function(t,e,s){"use strict";var i={ShowClusters:!0,ShowWalkers:!0,MaxWalkers:2e4,WalkerSource:"Random",ReplenishWalkers:!1,Stickiness:.9,BiasTowards:"",BiasForce:1,UseFrame:!0,FrameSize:900};const r=[];class n{constructor(){this._bvh_parent=null,this._bvh_branch=!0,this._bvh_left=null,this._bvh_right=null,this._bvh_sort=0,this._bvh_min_x=0,this._bvh_min_y=0,this._bvh_max_x=0,this._bvh_max_y=0}static getBranch(){return r.length?r.pop():new n}static releaseBranch(t){r.push(t)}static sortBranches(t,e){return t.sort>e.sort?-1:1}}class h{constructor(){this._hierarchy=null,this._bodies=[],this._dirty_branches=[]}insert(t,e=!1){if(!e){const e=t._bvh;if(e&&e!==this)throw new Error("Body belongs to another collision system");t._bvh=this,this._bodies.push(t)}const s=t._polygon,i=t.x,r=t.y;s&&(t._dirty_coords||t.x!==t._x||t.y!==t._y||t.angle!==t._angle||t.scale_x!==t._scale_x||t.scale_y!==t._scale_y)&&t._calculateCoords();const h=t._bvh_padding,_=s?0:t.radius*t.scale,a=(s?t._min_x:i-_)-h,o=(s?t._min_y:r-_)-h,l=(s?t._max_x:i+_)+h,c=(s?t._max_y:r+_)+h;t._bvh_min_x=a,t._bvh_min_y=o,t._bvh_max_x=l,t._bvh_max_y=c;let d=this._hierarchy,u=0;if(d)for(;;){if(!d._bvh_branch){const e=d._bvh_parent,s=d._bvh_min_x,i=d._bvh_min_y,r=d._bvh_max_x,h=d._bvh_max_y,_=d._bvh_parent=t._bvh_parent=n.getBranch();_._bvh_parent=e,_._bvh_left=d,_._bvh_right=t,_._bvh_sort=u++,_._bvh_min_x=a<s?a:s,_._bvh_min_y=o<i?o:i,_._bvh_max_x=l>r?l:r,_._bvh_max_y=c>h?c:h,e?e._bvh_left===d?e._bvh_left=_:e._bvh_right=_:this._hierarchy=_;break}{const t=d._bvh_left,e=t._bvh_min_y,s=t._bvh_max_x,i=t._bvh_max_y,r=a<t._bvh_min_x?a:t._bvh_min_x,n=o<e?o:e,h=l>s?l:s,_=c>i?c:i,b=(h-r)*(_-n)-(s-t._bvh_min_x)*(i-e),m=d._bvh_right,g=m._bvh_min_x,v=m._bvh_min_y,p=m._bvh_max_x,f=m._bvh_max_y,y=a<g?a:g,x=o<v?o:v,w=l>p?l:p,k=c>f?c:f,W=(w-y)*(k-x)-(p-g)*(f-v);d._bvh_sort=u++,d._bvh_min_x=r<y?r:y,d._bvh_min_y=n<x?n:x,d._bvh_max_x=h>w?h:w,d._bvh_max_y=_>k?_:k,d=b<=W?t:m}}else this._hierarchy=t}remove(t,e=!1){if(!e){const e=t._bvh;if(e&&e!==this)throw new Error("Body belongs to another collision system");t._bvh=null,this._bodies.splice(this._bodies.indexOf(t),1)}if(this._hierarchy===t)return void(this._hierarchy=null);const s=t._bvh_parent,i=s._bvh_parent,r=s._bvh_left,h=r===t?s._bvh_right:r;if(h._bvh_parent=i,h._bvh_branch&&(h._bvh_sort=s._bvh_sort),i){i._bvh_left===s?i._bvh_left=h:i._bvh_right=h;let t=i;for(;t;){const e=t._bvh_left,s=e._bvh_min_x,i=e._bvh_min_y,r=e._bvh_max_x,n=e._bvh_max_y,h=t._bvh_right,_=h._bvh_min_x,a=h._bvh_min_y,o=h._bvh_max_x,l=h._bvh_max_y;t._bvh_min_x=s<_?s:_,t._bvh_min_y=i<a?i:a,t._bvh_max_x=r>o?r:o,t._bvh_max_y=n>l?n:l,t=t._bvh_parent}}else this._hierarchy=h;n.releaseBranch(s)}update(){const t=this._bodies,e=t.length;for(let s=0;s<e;++s){const e=t[s];let i=!1;if(i||e.padding===e._bvh_padding||(e._bvh_padding=e.padding,i=!0),!i){const t=e._polygon;t&&(e._dirty_coords||e.x!==e._x||e.y!==e._y||e.angle!==e._angle||e.scale_x!==e._scale_x||e.scale_y!==e._scale_y)&&e._calculateCoords();const s=e.x,r=e.y,n=t?0:e.radius*e.scale,h=t?e._min_x:s-n,_=t?e._min_y:r-n,a=t?e._max_x:s+n,o=t?e._max_y:r+n;i=h<e._bvh_min_x||_<e._bvh_min_y||a>e._bvh_max_x||o>e._bvh_max_y}i&&(this.remove(e,!0),this.insert(e,!0))}}potentials(t){const e=[],s=t._bvh_min_x,i=t._bvh_min_y,r=t._bvh_max_x,n=t._bvh_max_y;let h=this._hierarchy,_=!0;if(!h||!h._bvh_branch)return e;for(;h;){if(_){_=!1;let t=h._bvh_branch?h._bvh_left:null;for(;t&&t._bvh_max_x>=s&&t._bvh_max_y>=i&&t._bvh_min_x<=r&&t._bvh_min_y<=n;)t=(h=t)._bvh_branch?h._bvh_left:null}const a=h._bvh_branch,o=a?h._bvh_right:null;if(o&&o._bvh_max_x>s&&o._bvh_max_y>i&&o._bvh_min_x<r&&o._bvh_min_y<n)h=o,_=!0;else{a||h===t||e.push(h);let s=h._bvh_parent;if(!s)break;for(;s&&s._bvh_right===h;)s=(h=s)._bvh_parent;h=s}}return e}draw(t){const e=this._bodies,s=e.length;for(let i=0;i<s;++i)e[i].draw(t)}drawBVH(t){let e=this._hierarchy,s=!0;for(;e;){if(s){s=!1;let t=e._bvh_branch?e._bvh_left:null;for(;t;)t=(e=t)._bvh_branch?e._bvh_left:null}const i=e._bvh_branch,r=e._bvh_min_x,n=e._bvh_min_y,h=e._bvh_max_x,_=e._bvh_max_y,a=i?e._bvh_right:null;if(t.moveTo(r,n),t.lineTo(h,n),t.lineTo(h,_),t.lineTo(r,_),t.lineTo(r,n),a)e=a,s=!0;else{let t=e._bvh_parent;if(!t)break;for(;t&&t._bvh_right===e;)t=(e=t)._bvh_parent;e=t}}}}class _{constructor(){this.collision=!1,this.a=null,this.b=null,this.a_in_b=!1,this.a_in_b=!1,this.overlap=0,this.overlap_x=0,this.overlap_y=0}}function a(t,e,s=null,i=!0){const r=t._polygon,n=e._polygon;let h=!1;return s&&(s.a=t,s.b=e,s.a_in_b=!0,s.b_in_a=!0,s.overlap=null,s.overlap_x=0,s.overlap_y=0),r&&(t._dirty_coords||t.x!==t._x||t.y!==t._y||t.angle!==t._angle||t.scale_x!==t._scale_x||t.scale_y!==t._scale_y)&&t._calculateCoords(),n&&(e._dirty_coords||e.x!==e._x||e.y!==e._y||e.angle!==e._angle||e.scale_x!==e._scale_x||e.scale_y!==e._scale_y)&&e._calculateCoords(),i&&!function(t,e){const s=t._polygon,i=s?0:t.x,r=s?0:t.y,n=s?0:t.radius*t.scale,h=s?t._min_x:i-n,_=s?t._min_y:r-n,a=s?t._max_x:i+n,o=s?t._max_y:r+n,l=e._polygon,c=l?0:e.x,d=l?0:e.y,u=l?0:e.radius*e.scale,b=l?e._min_x:c-u,m=l?e._min_y:d-u,g=l?e._max_x:c+u,v=l?e._max_y:d+u;return h<g&&_<v&&a>b&&o>m}(t,e)||(r&&t._dirty_normals&&t._calculateNormals(),n&&e._dirty_normals&&e._calculateNormals(),h=r&&n?function(t,e,s=null){const i=t._coords.length,r=e._coords.length;if(2===i&&2===r){const i=t._coords,r=e._coords;return s&&(s.overlap=0),i[0]===r[0]&&i[1]===r[1]}const n=t._coords,h=e._coords,_=t._normals,a=e._normals;if(i>2)for(let t=0,e=1;t<i;t+=2,e+=2)if(l(n,h,_[t],_[e],s))return!1;if(r>2)for(let t=0,e=1;t<r;t+=2,e+=2)if(l(n,h,a[t],a[e],s))return!1;return!0}(t,e,s):r?o(t,e,s,!1):n?o(e,t,s,!0):function(t,e,s=null){const i=t.radius*t.scale,r=e.radius*e.scale,n=e.x-t.x,h=e.y-t.y,_=i+r,a=n*n+h*h;if(a>_*_)return!1;if(s){const t=Math.sqrt(a);s.a_in_b=i<=r&&t<=r-i,s.b_in_a=r<=i&&t<=i-r,s.overlap=_-t,s.overlap_x=n/t,s.overlap_y=h/t}return!0}(t,e,s)),s&&(s.collision=h),h}function o(t,e,s=null,i=!1){const r=t._coords,n=t._edges,h=t._normals,_=e.x,a=e.y,o=e.radius*e.scale,l=2*o,c=o*o,d=r.length;let u=!0,b=!0,m=null,g=0,v=0;if(2===d){const t=_-r[0],e=a-r[1],i=t*t+e*e;if(i>c)return!1;if(s){const s=Math.sqrt(i);m=o-s,g=t/s,v=e/s,b=!1}}else for(let t=0,e=1;t<d;t+=2,e+=2){const i=_-r[t],p=a-r[e],f=n[t],y=n[e],x=i*f+p*y,w=x<0?-1:x>f*f+y*y?1:0;let k=!1,W=0,F=0,S=0;if(s&&u&&i*i+p*p>c&&(u=!1),w){const e=-1===w,h=e?0===t?d-2:t-2:t===d-2?0:t+2,l=h+1,u=_-r[h],m=a-r[l],g=n[h],v=n[l],f=u*g+m*v;if((f<0?-1:f>g*g+v*v?1:0)===-w){const t=e?i:u,r=e?p:m,n=t*t+r*r;if(n>c)return!1;if(s){const e=Math.sqrt(n);k=!0,W=o-e,F=t/e,S=r/e,b=!1}}}else{const r=h[t],n=h[e],_=i*r+p*n,a=_<0?-_:_;if(_>0&&a>o)return!1;s&&(k=!0,W=o-_,F=r,S=n,(b&&_>=0||W<l)&&(b=!1))}k&&(null===m||m>W)&&(m=W,g=F,v=S)}return s&&(s.a_in_b=i?b:u,s.b_in_a=i?u:b,s.overlap=m,s.overlap_x=i?-g:g,s.overlap_y=i?-v:v),!0}function l(t,e,s,i,r=null){const n=t.length,h=e.length;if(!n||!h)return!0;let _=null,a=null,o=null,l=null;for(let e=0,r=1;e<n;e+=2,r+=2){const n=t[e]*s+t[r]*i;(null===_||_>n)&&(_=n),(null===a||a<n)&&(a=n)}for(let t=0,r=1;t<h;t+=2,r+=2){const n=e[t]*s+e[r]*i;(null===o||o>n)&&(o=n),(null===l||l<n)&&(l=n)}if(_>l||a<o)return!0;if(r){let t=0;if(_<o)if(r.a_in_b=!1,a<l)t=a-o,r.b_in_a=!1;else{const e=a-o,s=l-_;t=e<s?e:-s}else if(r.b_in_a=!1,a>l)t=_-l,r.a_in_b=!1;else{const e=a-o,s=l-_;t=e<s?e:-s}const e=r.overlap,n=t<0?-t:t;if(null===e||e>n){const e=t<0?-1:1;r.overlap=n,r.overlap_x=s*e,r.overlap_y=i*e}}return!1}class c{constructor(t=0,e=0,s=0){this.x=t,this.y=e,this.padding=s,this._circle=!1,this._polygon=!1,this._point=!1,this._bvh=null,this._bvh_parent=null,this._bvh_branch=!1,this._bvh_padding=s,this._bvh_min_x=0,this._bvh_min_y=0,this._bvh_max_x=0,this._bvh_max_y=0}collides(t,e=null,s=!0){return a(this,t,e,s)}potentials(){const t=this._bvh;if(null===t)throw new Error("Body does not belong to a collision system");return t.potentials(this)}remove(){const t=this._bvh;t&&t.remove(this,!1)}createResult(){return new _}static createResult(){return new _}}class d extends c{constructor(t=0,e=0,s=0,i=1,r=0){super(t,e,r),this.radius=s,this.scale=i}draw(t){const e=this.x,s=this.y,i=this.radius*this.scale;t.moveTo(e+i,s),t.arc(e,s,i,0,2*Math.PI)}}class u extends c{constructor(t=0,e=0,s=[],i=0,r=1,n=1,h=0){super(t,e,h),this.angle=i,this.scale_x=r,this.scale_y=n,this._polygon=!0,this._x=t,this._y=e,this._angle=i,this._scale_x=r,this._scale_y=n,this._min_x=0,this._min_y=0,this._max_x=0,this._max_y=0,this._points=null,this._coords=null,this._edges=null,this._normals=null,this._dirty_coords=!0,this._dirty_normals=!0,u.prototype.setPoints.call(this,s)}draw(t){(this._dirty_coords||this.x!==this._x||this.y!==this._y||this.angle!==this._angle||this.scale_x!==this._scale_x||this.scale_y!==this._scale_y)&&this._calculateCoords();const e=this._coords;if(2===e.length)t.moveTo(e[0],e[1]),t.arc(e[0],e[1],1,0,2*Math.PI);else{t.moveTo(e[0],e[1]);for(let s=2;s<e.length;s+=2)t.lineTo(e[s],e[s+1]);e.length>4&&t.lineTo(e[0],e[1])}}setPoints(t){const e=t.length;this._points=new Float64Array(2*e),this._coords=new Float64Array(2*e),this._edges=new Float64Array(2*e),this._normals=new Float64Array(2*e);const s=this._points;for(let i=0,r=0,n=1;i<e;++i,r+=2,n+=2){const e=t[i];s[r]=e[0],s[n]=e[1]}this._dirty_coords=!0}_calculateCoords(){const t=this.x,e=this.y,s=this.angle,i=this.scale_x,r=this.scale_y,n=this._points,h=this._coords,_=n.length;let a,o,l,c;for(let d=0,u=1;d<_;d+=2,u+=2){let _=n[d]*i,b=n[u]*r;if(s){const t=Math.cos(s),e=Math.sin(s),i=_;_=i*t-b*e,b=i*e+b*t}_+=t,b+=e,h[d]=_,h[u]=b,0===d?(a=o=_,l=c=b):(_<a?a=_:_>o&&(o=_),b<l?l=b:b>c&&(c=b))}this._x=t,this._y=e,this._angle=s,this._scale_x=i,this._scale_y=r,this._min_x=a,this._min_y=l,this._max_x=o,this._max_y=c,this._dirty_coords=!1,this._dirty_normals=!0}_calculateNormals(){const t=this._coords,e=this._edges,s=this._normals,i=t.length;for(let r=0,n=1;r<i;r+=2,n+=2){const h=r+2<i?r+2:0,_=t[h]-t[r],a=t[h+1]-t[n],o=_||a?Math.sqrt(_*_+a*a):0;e[r]=_,e[n]=a,s[r]=o?a/o:0,s[n]=o?-_/o:0}this._dirty_normals=!1}}class b extends u{constructor(t=0,e=0,s=0){super(t,e,[[0,0]],0,1,1,s),this._point=!0}}b.prototype.setPoints=void 0;class m{constructor(){this._bvh=new h}createCircle(t=0,e=0,s=0,i=1,r=0){const n=new d(t,e,s,i,r);return this._bvh.insert(n),n}createPolygon(t=0,e=0,s=[[0,0]],i=0,r=1,n=1,h=0){const _=new u(t,e,s,i,r,n,h);return this._bvh.insert(_),_}createPoint(t=0,e=0,s=0){const i=new b(t,e,s);return this._bvh.insert(i),i}createResult(){return new _}static createResult(){return new _}insert(...t){for(const e of t)this._bvh.insert(e,!1);return this}remove(...t){for(const e of t)this._bvh.remove(e,!1);return this}update(){return this._bvh.update(),this}draw(t){return this._bvh.draw(t)}drawBVH(t){return this._bvh.drawBVH(t)}potentials(t){return this._bvh.potentials(t)}collides(t,e,s=null,i=!0){return a(t,e,s,i)}}e.a=class{constructor(t,e){this.p5=t,this.settings=Object.assign({},i,e),this.paused=!1,this.showWalkers=this.settings.ShowWalkers,this.showClusters=this.settings.ShowClusters,this.numWalkers=0,this.edges={},this.frame={},"number"==typeof this.settings.FrameSize?(this.frame.left=window.innerWidth/2-this.settings.FrameSize/2,this.frame.right=window.innerWidth/2+this.settings.FrameSize/2,this.frame.top=window.innerHeight/2-this.settings.FrameSize/2,this.frame.bottom=window.innerHeight/2+this.settings.FrameSize/2):"object"==typeof this.settings.FrameSize&&(this.frame.left=window.innerWidth/2-this.settings.FrameSize[0]/2,this.frame.right=window.innerWidth/2+this.settings.FrameSize[0]/2,this.frame.top=window.innerHeight/2-this.settings.FrameSize[1]/2,this.frame.bottom=window.innerHeight/2+this.settings.FrameSize[1]/2),this.edges.left=this.settings.UseFrame?this.frame.left:0,this.edges.right=this.settings.UseFrame?this.frame.right:window.innerWidth,this.edges.top=this.settings.UseFrame?this.frame.top:0,this.edges.bottom=this.settings.UseFrame?this.frame.bottom:window.innerHeight,this.system=new m,this.bodies=[],this.createInitialWalkers()}iterate(){this.paused||(this.settings.ReplenishWalkers&&this.numWalkers<this.settings.MaxWalkers&&this.createWalkers(this.settings.MaxWalkers-this.numWalkers),this.moveWalkers(),this.system.update(),this.handleCollisions())}draw(){this.p5.background(255);for(let t of this.bodies)!t.stuck&&this.showWalkers?t._point?(this.p5.stroke(0),this.p5.noFill(),this.p5.point(t.x,t.y)):t._circle&&(this.p5.noStroke(),this.p5.fill(230),this.p5.ellipse(t.x,t.y,this.settings.CircleDiameter)):t.stuck&&this.showClusters&&(t._point?(this.p5.stroke(0),this.p5.noFill(),this.p5.point(t.x,t.y)):t._circle&&(this.p5.noStroke(),this.p5.fill(150),this.p5.ellipse(t.x,t.y,this.settings.CircleDiameter)));this.settings.UseFrame&&this.drawFrame()}drawFrame(){this.p5.noFill(),this.p5.stroke(0),"number"==typeof this.settings.FrameSize?this.p5.rect(window.innerWidth/2-this.settings.FrameSize/2-1,window.innerHeight/2-this.settings.FrameSize/2-1,this.settings.FrameSize+2,this.settings.FrameSize+2):"object"==typeof this.settings.FrameSize&&this.p5.rect(window.innerWidth/2-this.settings.FrameSize[0]/2-1,window.innerHeight/2-this.settings.FrameSize[1]/2-1,this.settings.FrameSize[0]+2,this.settings.FrameSize[1]+2)}moveWalkers(){if(this.bodies.length>0)for(let t of this.bodies)if(!t.stuck){let e=this.p5.random(-1,1),s=this.p5.random(-1,1);switch(t._point&&(e=Math.round(e),s=Math.round(s)),this.settings.BiasTowards){case"Top":s-=this.settings.BiasForce;break;case"Bottom":s+=this.settings.BiasForce;break;case"Left":e-=this.settings.BiasForce;break;case"Right":e+=this.settings.BiasForce;break;case"Center":let i=Math.atan2(window.innerHeight/2-t.y,window.innerWidth/2-t.x);e+=Math.cos(i)*this.settings.BiasForce,s+=Math.sin(i)*this.settings.BiasForce}t.x+e>this.edges.left&&t.x+e<this.edges.right&&(t.x+=e),t.y+s>this.edges.top&&t.y+s<this.edges.bottom&&(t.y+=s),t.age++}}handleCollisions(){for(let t of this.bodies){if(t.stuck)continue;const e=t.potentials();for(let s of e)t._point?s.stuck&&(t.stuck=!0,this.walkers--):s.stuck&&t.collides(s)&&(t.stuck=!0,this.numWalkers--)}}createParticle(t,e,s=!1){let i;1==this.settings.CircleDiameter?(i=this.system.createPoint(t,e))._point=!0:(i=this.system.createCircle(t,e,this.settings.CircleDiameter/2))._circle=!0,i.stuck=s,i.age=0,this.bodies.push(i)}createWalker(t,e){this.createParticle(t,e),this.numWalkers++}createWalkers(t){for(let e=0;e<t;e++){let t,e;switch(this.settings.WalkerSource){case"Edges":switch(Math.round(p5.random(1,4))){case 1:t=p5.random(window.innerWidth),e=0;break;case 2:t=window.innerWidth,e=p5.random(window.innerHeight);break;case 3:t=p5.random(window.innerWidth),e=window.innerHeight;break;case 4:t=0,e=p5.random(window.innerHeight)}break;case"Circle":let s=50,i=this.p5.random(360);t=window.innerWidth/2+s*Math.cos(i*Math.PI/180),e=window.innerHeight/2+s*Math.sin(i*Math.PI/180);break;case"Random":t=this.p5.random(this.edges.left,this.edges.right),e=this.p5.random(this.edges.top,this.edges.bottom);break;case"Center":t=window.innerWidth/2,e=window.innerHeight/2}this.createWalker(Math.round(t),Math.round(e))}}createInitialWalkers(){this.createWalkers(this.settings.MaxWalkers)}createClusterFromCoords(t){if(t.length>0)for(let e of t)this.createParticle(e.x,e.y,!0)}removeAll(){for(let t of this.bodies)this.system.remove(t);this.bodies=[],this.numWalkers=0}togglePause(){this.paused=!this.paused}toggleShowWalkers(){this.showWalkers=!this.showWalkers}toggleShowClusters(){this.showClusters=!this.showClusters}pause(){this.paused=!0}unpause(){this.paused=!1}}},,function(t,e,s){"use strict";s.r(e);var i={CircleDiameter:5,UseFrame:!0,ShowWalkers:!1},r=s(0);let n,h="Point";new p5(function(t){function e(){n.removeAll(),n.createInitialWalkers(),s()}function s(){let e=[];switch(h){case"Point":e.push({x:window.innerWidth/2,y:window.innerHeight/2});break;case"Ring":let s=100,i=20;for(let t=0;t<i;t++)e.push({x:window.innerWidth/2+s*Math.cos(360/i*t*Math.PI/180),y:window.innerHeight/2+s*Math.sin(360/i*t*Math.PI/180)});break;case"Random":for(let s=0;s<5;s++)e.push({x:t.random(n.edges.left,n.edges.right),y:t.random(n.edges.top,n.edges.bottom)});break;case"Wall":switch(n.settings.BiasTowards){case"Top":e=_(n.edges.top);break;case"Bottom":e=_(n.edges.bottom);break;case"Left":e=a(n.edges.left);break;case"Right":e=a(n.edges.right)}}n.createClusterFromCoords(e)}function _(t){let e=[],s=i.UseFrame?900:window.innerWidth;for(let r=0;r<=s/i.CircleDiameter;r++)e.push({x:n.edges.left+r*i.CircleDiameter,y:t});return e}function a(t){let e=[],s=i.UseFrame?900:window.innerHeight;for(let r=0;r<=s/i.CircleDiameter;r++)e.push({x:t,y:n.edges.top+r*i.CircleDiameter});return e}t.setup=function(){t.createCanvas(window.innerWidth,window.innerHeight),t.colorMode(t.HSB,255),t.ellipseMode(t.CENTER),(n=new r.a(t,i)).settings.BiasTowards="Center",s()},t.draw=function(){n.iterate(),n.draw()},t.keyReleased=function(){switch(t.key){case" ":n.togglePause();break;case"w":n.toggleShowWalkers();break;case"c":n.toggleShowClusters();break;case"r":e();break;case"1":n.pause(),h="Point",n.settings.BiasTowards="Center",e(),n.unpause();break;case"2":n.pause(),h="Wall",n.settings.BiasTowards="Bottom",e(),n.unpause();break;case"3":n.pause(),h="Wall",n.settings.BiasTowards="Top",e(),n.unpause();break;case"4":n.pause(),h="Wall",n.settings.BiasTowards="Left",e(),n.unpause();break;case"5":n.pause(),h="Wall",n.settings.BiasTowards="Right",e(),n.unpause()}}})}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4uL2NvcmUvRGVmYXVsdHMuanMiLCJ3ZWJwYWNrOi8vLy4uL2NvcmUvbm9kZV9tb2R1bGVzL2NvbGxpc2lvbnMvc3JjL21vZHVsZXMvQlZIQnJhbmNoLm1qcyIsIndlYnBhY2s6Ly8vLi4vY29yZS9ub2RlX21vZHVsZXMvY29sbGlzaW9ucy9zcmMvbW9kdWxlcy9CVkgubWpzIiwid2VicGFjazovLy8uLi9jb3JlL25vZGVfbW9kdWxlcy9jb2xsaXNpb25zL3NyYy9tb2R1bGVzL1Jlc3VsdC5tanMiLCJ3ZWJwYWNrOi8vLy4uL2NvcmUvbm9kZV9tb2R1bGVzL2NvbGxpc2lvbnMvc3JjL21vZHVsZXMvU0FULm1qcyIsIndlYnBhY2s6Ly8vLi4vY29yZS9ub2RlX21vZHVsZXMvY29sbGlzaW9ucy9zcmMvbW9kdWxlcy9Cb2R5Lm1qcyIsIndlYnBhY2s6Ly8vLi4vY29yZS9ub2RlX21vZHVsZXMvY29sbGlzaW9ucy9zcmMvbW9kdWxlcy9DaXJjbGUubWpzIiwid2VicGFjazovLy8uLi9jb3JlL25vZGVfbW9kdWxlcy9jb2xsaXNpb25zL3NyYy9tb2R1bGVzL1BvbHlnb24ubWpzIiwid2VicGFjazovLy8uLi9jb3JlL25vZGVfbW9kdWxlcy9jb2xsaXNpb25zL3NyYy9tb2R1bGVzL1BvaW50Lm1qcyIsIndlYnBhY2s6Ly8vLi4vY29yZS9ub2RlX21vZHVsZXMvY29sbGlzaW9ucy9zcmMvQ29sbGlzaW9ucy5tanMiLCJ3ZWJwYWNrOi8vLy4uL2NvcmUvV29ybGQuanMiLCJ3ZWJwYWNrOi8vLy4uLzAyLWRpcmVjdGlvbmFsLWJpYXMvanMvU2V0dGluZ3MuanMiLCJ3ZWJwYWNrOi8vLy4uLzAyLWRpcmVjdGlvbmFsLWJpYXMvanMvZW50cnkuanMiXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJEZWZhdWx0cyIsIlNob3dDbHVzdGVycyIsIlNob3dXYWxrZXJzIiwiTWF4V2Fsa2VycyIsIldhbGtlclNvdXJjZSIsIlJlcGxlbmlzaFdhbGtlcnMiLCJTdGlja2luZXNzIiwiQmlhc1Rvd2FyZHMiLCJCaWFzRm9yY2UiLCJVc2VGcmFtZSIsIkZyYW1lU2l6ZSIsImJyYW5jaF9wb29sIiwiQlZIQnJhbmNoIiwiW29iamVjdCBPYmplY3RdIiwidGhpcyIsIl9idmhfcGFyZW50IiwiX2J2aF9icmFuY2giLCJfYnZoX2xlZnQiLCJfYnZoX3JpZ2h0IiwiX2J2aF9zb3J0IiwiX2J2aF9taW5feCIsIl9idmhfbWluX3kiLCJfYnZoX21heF94IiwiX2J2aF9tYXhfeSIsImxlbmd0aCIsInBvcCIsImJyYW5jaCIsInB1c2giLCJhIiwiYiIsInNvcnQiLCJCVkhfQlZIIiwiX2hpZXJhcmNoeSIsIl9ib2RpZXMiLCJfZGlydHlfYnJhbmNoZXMiLCJib2R5IiwidXBkYXRpbmciLCJidmgiLCJfYnZoIiwiRXJyb3IiLCJwb2x5Z29uIiwiX3BvbHlnb24iLCJib2R5X3giLCJ4IiwiYm9keV95IiwieSIsIl9kaXJ0eV9jb29yZHMiLCJfeCIsIl95IiwiYW5nbGUiLCJfYW5nbGUiLCJzY2FsZV94IiwiX3NjYWxlX3giLCJzY2FsZV95IiwiX3NjYWxlX3kiLCJfY2FsY3VsYXRlQ29vcmRzIiwicGFkZGluZyIsIl9idmhfcGFkZGluZyIsInJhZGl1cyIsInNjYWxlIiwiYm9keV9taW5feCIsIl9taW5feCIsImJvZHlfbWluX3kiLCJfbWluX3kiLCJib2R5X21heF94IiwiX21heF94IiwiYm9keV9tYXhfeSIsIl9tYXhfeSIsImN1cnJlbnQiLCJncmFuZHBhcmVudCIsInBhcmVudF9taW5feCIsInBhcmVudF9taW5feSIsInBhcmVudF9tYXhfeCIsInBhcmVudF9tYXhfeSIsIm5ld19wYXJlbnQiLCJnZXRCcmFuY2giLCJsZWZ0IiwibGVmdF9taW5feSIsImxlZnRfbWF4X3giLCJsZWZ0X21heF95IiwibGVmdF9uZXdfbWluX3giLCJsZWZ0X25ld19taW5feSIsImxlZnRfbmV3X21heF94IiwibGVmdF9uZXdfbWF4X3kiLCJsZWZ0X2RpZmZlcmVuY2UiLCJyaWdodCIsInJpZ2h0X21pbl94IiwicmlnaHRfbWluX3kiLCJyaWdodF9tYXhfeCIsInJpZ2h0X21heF95IiwicmlnaHRfbmV3X21pbl94IiwicmlnaHRfbmV3X21pbl95IiwicmlnaHRfbmV3X21heF94IiwicmlnaHRfbmV3X21heF95IiwicmlnaHRfZGlmZmVyZW5jZSIsInNwbGljZSIsImluZGV4T2YiLCJwYXJlbnQiLCJwYXJlbnRfbGVmdCIsInNpYmxpbmciLCJsZWZ0X21pbl94IiwicmVsZWFzZUJyYW5jaCIsImJvZGllcyIsImNvdW50IiwidXBkYXRlIiwibWluX3giLCJtaW5feSIsIm1heF94IiwibWF4X3kiLCJyZW1vdmUiLCJpbnNlcnQiLCJyZXN1bHRzIiwidHJhdmVyc2VfbGVmdCIsImNvbnRleHQiLCJkcmF3IiwibW92ZVRvIiwibGluZVRvIiwiUmVzdWx0IiwiY29sbGlzaW9uIiwiYV9pbl9iIiwib3ZlcmxhcCIsIm92ZXJsYXBfeCIsIm92ZXJsYXBfeSIsIlNBVCIsInJlc3VsdCIsImFhYmIiLCJhX3BvbHlnb24iLCJiX3BvbHlnb24iLCJiX2luX2EiLCJhX3giLCJhX3kiLCJhX3JhZGl1cyIsImFfbWluX3giLCJhX21pbl95IiwiYV9tYXhfeCIsImFfbWF4X3kiLCJiX3giLCJiX3kiLCJiX3JhZGl1cyIsImJfbWluX3giLCJiX21pbl95IiwiYl9tYXhfeCIsImJfbWF4X3kiLCJhYWJiQUFCQiIsIl9kaXJ0eV9ub3JtYWxzIiwiX2NhbGN1bGF0ZU5vcm1hbHMiLCJhX2NvdW50IiwiX2Nvb3JkcyIsImJfY291bnQiLCJhX2Nvb3JkcyIsImJfY29vcmRzIiwiYV9ub3JtYWxzIiwiX25vcm1hbHMiLCJiX25vcm1hbHMiLCJpeCIsIml5Iiwic2VwYXJhdGluZ0F4aXMiLCJwb2x5Z29uUG9seWdvbiIsInBvbHlnb25DaXJjbGUiLCJkaWZmZXJlbmNlX3giLCJkaWZmZXJlbmNlX3kiLCJyYWRpdXNfc3VtIiwibGVuZ3RoX3NxdWFyZWQiLCJNYXRoIiwic3FydCIsImNpcmNsZUNpcmNsZSIsInJldmVyc2UiLCJhX2VkZ2VzIiwiX2VkZ2VzIiwiYl9yYWRpdXMyIiwicmFkaXVzX3NxdWFyZWQiLCJjb29yZF94IiwiY29vcmRfeSIsImVkZ2VfeCIsImVkZ2VfeSIsImRvdCIsInJlZ2lvbiIsInRtcF9vdmVybGFwcGluZyIsInRtcF9vdmVybGFwIiwidG1wX292ZXJsYXBfeCIsInRtcF9vdmVybGFwX3kiLCJvdGhlcl94Iiwib3RoZXJfeSIsImNvb3JkMl94IiwiY29vcmQyX3kiLCJlZGdlMl94IiwiZWRnZTJfeSIsImRvdDIiLCJ0YXJnZXRfeCIsInRhcmdldF95Iiwibm9ybWFsX3giLCJub3JtYWxfeSIsImFic29sdXRlX2xlbmd0aCIsImFfc3RhcnQiLCJhX2VuZCIsImJfc3RhcnQiLCJiX2VuZCIsIm9wdGlvbjEiLCJvcHRpb24yIiwiY3VycmVudF9vdmVybGFwIiwiYWJzb2x1dGVfb3ZlcmxhcCIsInNpZ24iLCJCb2R5X0JvZHkiLCJfY2lyY2xlIiwiX3BvaW50IiwidGFyZ2V0IiwicG90ZW50aWFscyIsIkNpcmNsZV9DaXJjbGUiLCJzdXBlciIsImFyYyIsIlBJIiwiUG9seWdvbl9Qb2x5Z29uIiwicG9pbnRzIiwiX3BvaW50cyIsInNldFBvaW50cyIsImNvb3JkcyIsIm5ld19wb2ludHMiLCJGbG9hdDY0QXJyYXkiLCJuZXdfcG9pbnQiLCJjb3MiLCJzaW4iLCJ0bXBfeCIsImVkZ2VzIiwibm9ybWFscyIsIm5leHQiLCJQb2ludF9Qb2ludCIsInVuZGVmaW5lZCIsIkNvbGxpc2lvbnNfQ29sbGlzaW9ucyIsImRyYXdCVkgiLCJzb3VyY2UiLCJfX3dlYnBhY2tfZXhwb3J0c19fIiwicDUiLCJzZXR0aW5ncyIsImFzc2lnbiIsInBhdXNlZCIsInNob3dXYWxrZXJzIiwic2hvd0NsdXN0ZXJzIiwibnVtV2Fsa2VycyIsImZyYW1lIiwid2luZG93IiwiaW5uZXJXaWR0aCIsInRvcCIsImlubmVySGVpZ2h0IiwiYm90dG9tIiwic3lzdGVtIiwiY3JlYXRlSW5pdGlhbFdhbGtlcnMiLCJjcmVhdGVXYWxrZXJzIiwibW92ZVdhbGtlcnMiLCJoYW5kbGVDb2xsaXNpb25zIiwiYmFja2dyb3VuZCIsInN0dWNrIiwic3Ryb2tlIiwibm9GaWxsIiwicG9pbnQiLCJub1N0cm9rZSIsImZpbGwiLCJlbGxpcHNlIiwiQ2lyY2xlRGlhbWV0ZXIiLCJkcmF3RnJhbWUiLCJyZWN0IiwiZGVsdGFYIiwicmFuZG9tIiwiZGVsdGFZIiwicm91bmQiLCJhdGFuMiIsImFnZSIsInNlY29uZEJvZHkiLCJ3YWxrZXJzIiwiY29sbGlkZXMiLCJjcmVhdGVQb2ludCIsImNyZWF0ZUNpcmNsZSIsImNyZWF0ZVBhcnRpY2xlIiwiY3JlYXRlV2Fsa2VyIiwiY29vcmRMaXN0IiwiU2V0dGluZ3MiLCJ3b3JsZCIsImluaXRpYWxDbHVzdGVyVHlwZSIsInJlc2V0V29ybGQiLCJyZW1vdmVBbGwiLCJjcmVhdGVJbml0aWFsQ2x1c3RlcnMiLCJwYXJ0aWNsZUNvb3JkcyIsIm51bVBhcnRpY2xlcyIsImNyZWF0ZUhvcml6b250YWxDbHVzdGVyV2FsbCIsImNyZWF0ZVZlcnRpY2FsQ2x1c3RlcldhbGwiLCJjcmVhdGVDbHVzdGVyRnJvbUNvb3JkcyIsImVkZ2UiLCJ3aWR0aCIsImhlaWdodCIsInNldHVwIiwiY3JlYXRlQ2FudmFzIiwiY29sb3JNb2RlIiwiSFNCIiwiZWxsaXBzZU1vZGUiLCJDRU5URVIiLCJXb3JsZCIsIml0ZXJhdGUiLCJrZXlSZWxlYXNlZCIsInRvZ2dsZVBhdXNlIiwidG9nZ2xlU2hvd1dhbGtlcnMiLCJ0b2dnbGVTaG93Q2x1c3RlcnMiLCJwYXVzZSIsInVucGF1c2UiXSwibWFwcGluZ3MiOiJhQUNBLElBQUFBLEVBQUEsR0FHQSxTQUFBQyxFQUFBQyxHQUdBLEdBQUFGLEVBQUFFLEdBQ0EsT0FBQUYsRUFBQUUsR0FBQUMsUUFHQSxJQUFBQyxFQUFBSixFQUFBRSxHQUFBLENBQ0FHLEVBQUFILEVBQ0FJLEdBQUEsRUFDQUgsUUFBQSxJQVVBLE9BTkFJLEVBQUFMLEdBQUFNLEtBQUFKLEVBQUFELFFBQUFDLElBQUFELFFBQUFGLEdBR0FHLEVBQUFFLEdBQUEsRUFHQUYsRUFBQUQsUUFLQUYsRUFBQVEsRUFBQUYsRUFHQU4sRUFBQVMsRUFBQVYsRUFHQUMsRUFBQVUsRUFBQSxTQUFBUixFQUFBUyxFQUFBQyxHQUNBWixFQUFBYSxFQUFBWCxFQUFBUyxJQUNBRyxPQUFBQyxlQUFBYixFQUFBUyxFQUFBLENBQTBDSyxZQUFBLEVBQUFDLElBQUFMLEtBSzFDWixFQUFBa0IsRUFBQSxTQUFBaEIsR0FDQSxvQkFBQWlCLGVBQUFDLGFBQ0FOLE9BQUFDLGVBQUFiLEVBQUFpQixPQUFBQyxZQUFBLENBQXdEQyxNQUFBLFdBRXhEUCxPQUFBQyxlQUFBYixFQUFBLGNBQWlEbUIsT0FBQSxLQVFqRHJCLEVBQUFzQixFQUFBLFNBQUFELEVBQUFFLEdBRUEsR0FEQSxFQUFBQSxJQUFBRixFQUFBckIsRUFBQXFCLElBQ0EsRUFBQUUsRUFBQSxPQUFBRixFQUNBLEtBQUFFLEdBQUEsaUJBQUFGLFFBQUFHLFdBQUEsT0FBQUgsRUFDQSxJQUFBSSxFQUFBWCxPQUFBWSxPQUFBLE1BR0EsR0FGQTFCLEVBQUFrQixFQUFBTyxHQUNBWCxPQUFBQyxlQUFBVSxFQUFBLFdBQXlDVCxZQUFBLEVBQUFLLFVBQ3pDLEVBQUFFLEdBQUEsaUJBQUFGLEVBQUEsUUFB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QUNBRixFQUFBeUIsUUFDQXhCLEVBQUEsUUFDQUQsRUFBQTNDLFNBQUFqTyxZQUFBLFNBQ0E4USxJQUNBRixFQUFBMEIsVUFDQSxNQUVBLFFBQ0ExQixFQUFBeUIsUUFDQXhCLEVBQUEsT0FDQUQsRUFBQTNDLFNBQUFqTyxZQUFBLFNBQ0E4USxJQUNBRixFQUFBMEIsVUFDQSxNQUVBLFFBQ0ExQixFQUFBeUIsUUFDQXhCLEVBQUEsT0FDQUQsRUFBQTNDLFNBQUFqTyxZQUFBLE1BQ0E4USxJQUNBRixFQUFBMEIsVUFDQSxNQUVBLFFBQ0ExQixFQUFBeUIsUUFDQXhCLEVBQUEsT0FDQUQsRUFBQTNDLFNBQUFqTyxZQUFBLE9BQ0E4USxJQUNBRixFQUFBMEIsVUFDQSxNQUVBLFFBQ0ExQixFQUFBeUIsUUFDQXhCLEVBQUEsT0FDQUQsRUFBQTNDLFNBQUFqTyxZQUFBLFFBQ0E4USxJQUNBRixFQUFBMEIiLCJmaWxlIjoiZGlyZWN0aW9uYWxCaWFzLmJ1bmRsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAyKTtcbiIsImV4cG9ydCBkZWZhdWx0IHtcclxuICAvLyBWaXNpYmlsaXR5IG9mIGNsdXN0ZXJlZCBwYXJ0aWNsZXNcclxuICBTaG93Q2x1c3RlcnM6IHRydWUsXHJcbiAgXHJcbiAgLy8gVmlzaWJpbGl0eSBvZiB3YWxrZXJzXHJcbiAgU2hvd1dhbGtlcnM6IHRydWUsXHJcblxyXG4gIC8vIE1heGltdW0gbnVtYmVyIG9mIG5vZGVzIC0gbG93ZXIgbnVtYmVycyBtZWFuIGJldHRlciBwZXJmb3JtYW5jZSwgYnV0IGZld2VyIGhpdHNcclxuICBNYXhXYWxrZXJzOiAyMDAwMCxcclxuXHJcbiAgLy8gV2hlcmUgbmV3IHdhbGtlcnMgYXJlIHNwYXduZWQuIENhbiBiZSBFZGdlcywgQ2lyY2xlLCBDZW50ZXIsIG9yIFJhbmRvbVxyXG4gIFdhbGtlclNvdXJjZTogJ1JhbmRvbScsXHJcblxyXG4gIC8vIEFkZCBuZXcgd2Fsa2VycyB3aGVuZXZlciB0aGV5IGJlY29tZSBzdHVjayB0byBjbHVzdGVyc1xyXG4gIFJlcGxlbmlzaFdhbGtlcnM6IGZhbHNlLFxyXG5cclxuICAvLyBQcm9iYWJpbGl0eSB0aGF0IGEgY29sbGlzaW9uIHdpbGwgbWFrZSBhIHdhbGtlciBzdGljayB0byBjbHVzdGVyXHJcbiAgU3RpY2tpbmVzczogLjksXHJcblxyXG4gIC8vIERpcmVjdGlvbiB0byBtb3ZlIGFsbCB3YWxrZXJzIGVhY2ggaXRlcmF0aW9uLiBDYW4gYmUgVG9wLCBCb3R0b20sIExlZnQsIFJpZ2h0LCBDZW50ZXIsIGFuZCBFZGdlcy4gQWxsIG90aGVyIHZhbHVlcywgaW5jbHVkaW5nIG5vdGhpbmcsIGRpc2FibGUgYmlhc1xyXG4gIEJpYXNUb3dhcmRzOiAnJyxcclxuXHJcbiAgLy8gTWFnbml0dWRlIG9mIHdhbGtlciBiaWFzIGZvcmNlLiBIaWdoZXIgdmFsdWVzIG1lYW4gZmFzdGVyIG1vdmVtZW50XHJcbiAgQmlhc0ZvcmNlOiAxLFxyXG5cclxuICAvLyBDb25zdHJhaW4gc2tldGNoIHRvIGEgYm94IGNlbnRlcmVkIG9uIHRoZSBzY3JlZW5cclxuICBVc2VGcmFtZTogdHJ1ZSxcclxuXHJcbiAgLy8gU2l6ZSBvZiBmcmFtZS4gQ2FuIGJlIGEgc2luZ2xlIG51bWJlciwgb3IgYW4gYXJyYXkgb2YgdHdvIG51bWJlcnMgZm9yIHdpZHRoIGFuZCBoZWlnaHRcclxuICBGcmFtZVNpemU6IDkwMFxyXG59OyIsIi8qKlxuICogQHByaXZhdGVcbiAqL1xuY29uc3QgYnJhbmNoX3Bvb2wgPSBbXTtcblxuLyoqXG4gKiBBIGJyYW5jaCB3aXRoaW4gYSBCVkhcbiAqIEBjbGFzc1xuICogQHByaXZhdGVcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQlZIQnJhbmNoIHtcblx0LyoqXG5cdCAqIEBjb25zdHJ1Y3RvclxuXHQgKi9cblx0Y29uc3RydWN0b3IoKSB7XG5cdFx0LyoqIEBwcml2YXRlICovXG5cdFx0dGhpcy5fYnZoX3BhcmVudCA9IG51bGw7XG5cblx0XHQvKiogQHByaXZhdGUgKi9cblx0XHR0aGlzLl9idmhfYnJhbmNoID0gdHJ1ZTtcblxuXHRcdC8qKiBAcHJpdmF0ZSAqL1xuXHRcdHRoaXMuX2J2aF9sZWZ0ID0gbnVsbDtcblxuXHRcdC8qKiBAcHJpdmF0ZSAqL1xuXHRcdHRoaXMuX2J2aF9yaWdodCA9IG51bGw7XG5cblx0XHQvKiogQHByaXZhdGUgKi9cblx0XHR0aGlzLl9idmhfc29ydCA9IDA7XG5cblx0XHQvKiogQHByaXZhdGUgKi9cblx0XHR0aGlzLl9idmhfbWluX3ggPSAwO1xuXG5cdFx0LyoqIEBwcml2YXRlICovXG5cdFx0dGhpcy5fYnZoX21pbl95ID0gMDtcblxuXHRcdC8qKiBAcHJpdmF0ZSAqL1xuXHRcdHRoaXMuX2J2aF9tYXhfeCA9IDA7XG5cblx0XHQvKiogQHByaXZhdGUgKi9cblx0XHR0aGlzLl9idmhfbWF4X3kgPSAwO1xuXHR9XG5cblx0LyoqXG5cdCAqIFJldHVybnMgYSBicmFuY2ggZnJvbSB0aGUgYnJhbmNoIHBvb2wgb3IgY3JlYXRlcyBhIG5ldyBicmFuY2hcblx0ICogQHJldHVybnMge0JWSEJyYW5jaH1cblx0ICovXG5cdHN0YXRpYyBnZXRCcmFuY2goKSB7XG5cdFx0aWYoYnJhbmNoX3Bvb2wubGVuZ3RoKSB7XG5cdFx0XHRyZXR1cm4gYnJhbmNoX3Bvb2wucG9wKCk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIG5ldyBCVkhCcmFuY2goKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBSZWxlYXNlcyBhIGJyYW5jaCBiYWNrIGludG8gdGhlIGJyYW5jaCBwb29sXG5cdCAqIEBwYXJhbSB7QlZIQnJhbmNofSBicmFuY2ggVGhlIGJyYW5jaCB0byByZWxlYXNlXG5cdCAqL1xuXHRzdGF0aWMgcmVsZWFzZUJyYW5jaChicmFuY2gpIHtcblx0XHRicmFuY2hfcG9vbC5wdXNoKGJyYW5jaCk7XG5cdH1cblxuXHQvKipcblx0ICogU29ydGluZyBjYWxsYmFjayB1c2VkIHRvIHNvcnQgYnJhbmNoZXMgYnkgZGVlcGVzdCBmaXJzdFxuXHQgKiBAcGFyYW0ge0JWSEJyYW5jaH0gYSBUaGUgZmlyc3QgYnJhbmNoXG5cdCAqIEBwYXJhbSB7QlZIQnJhbmNofSBiIFRoZSBzZWNvbmQgYnJhbmNoXG5cdCAqIEByZXR1cm5zIHtOdW1iZXJ9XG5cdCAqL1xuXHRzdGF0aWMgc29ydEJyYW5jaGVzKGEsIGIpIHtcblx0XHRyZXR1cm4gYS5zb3J0ID4gYi5zb3J0ID8gLTEgOiAxO1xuXHR9XG59O1xuIiwiaW1wb3J0IEJWSEJyYW5jaCBmcm9tICcuL0JWSEJyYW5jaC5tanMnO1xuXG4vKipcbiAqIEEgQm91bmRpbmcgVm9sdW1lIEhpZXJhcmNoeSAoQlZIKSB1c2VkIHRvIGZpbmQgcG90ZW50aWFsIGNvbGxpc2lvbnMgcXVpY2tseVxuICogQGNsYXNzXG4gKiBAcHJpdmF0ZVxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBCVkgge1xuXHQvKipcblx0ICogQGNvbnN0cnVjdG9yXG5cdCAqL1xuXHRjb25zdHJ1Y3RvcigpIHtcblx0XHQvKiogQHByaXZhdGUgKi9cblx0XHR0aGlzLl9oaWVyYXJjaHkgPSBudWxsO1xuXG5cdFx0LyoqIEBwcml2YXRlICovXG5cdFx0dGhpcy5fYm9kaWVzID0gW107XG5cblx0XHQvKiogQHByaXZhdGUgKi9cblx0XHR0aGlzLl9kaXJ0eV9icmFuY2hlcyA9IFtdO1xuXHR9XG5cblx0LyoqXG5cdCAqIEluc2VydHMgYSBib2R5IGludG8gdGhlIEJWSFxuXHQgKiBAcGFyYW0ge0NpcmNsZXxQb2x5Z29ufFBvaW50fSBib2R5IFRoZSBib2R5IHRvIGluc2VydFxuXHQgKiBAcGFyYW0ge0Jvb2xlYW59IFt1cGRhdGluZyA9IGZhbHNlXSBTZXQgdG8gdHJ1ZSBpZiB0aGUgYm9keSBhbHJlYWR5IGV4aXN0cyBpbiB0aGUgQlZIICh1c2VkIGludGVybmFsbHkgd2hlbiB1cGRhdGluZyB0aGUgYm9keSdzIHBvc2l0aW9uKVxuXHQgKi9cblx0aW5zZXJ0KGJvZHksIHVwZGF0aW5nID0gZmFsc2UpIHtcblx0XHRpZighdXBkYXRpbmcpIHtcblx0XHRcdGNvbnN0IGJ2aCA9IGJvZHkuX2J2aDtcblxuXHRcdFx0aWYoYnZoICYmIGJ2aCAhPT0gdGhpcykge1xuXHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoJ0JvZHkgYmVsb25ncyB0byBhbm90aGVyIGNvbGxpc2lvbiBzeXN0ZW0nKTtcblx0XHRcdH1cblxuXHRcdFx0Ym9keS5fYnZoID0gdGhpcztcblx0XHRcdHRoaXMuX2JvZGllcy5wdXNoKGJvZHkpO1xuXHRcdH1cblxuXHRcdGNvbnN0IHBvbHlnb24gPSBib2R5Ll9wb2x5Z29uO1xuXHRcdGNvbnN0IGJvZHlfeCAgPSBib2R5Lng7XG5cdFx0Y29uc3QgYm9keV95ICA9IGJvZHkueTtcblxuXHRcdGlmKHBvbHlnb24pIHtcblx0XHRcdGlmKFxuXHRcdFx0XHRib2R5Ll9kaXJ0eV9jb29yZHMgfHxcblx0XHRcdFx0Ym9keS54ICAgICAgICE9PSBib2R5Ll94IHx8XG5cdFx0XHRcdGJvZHkueSAgICAgICAhPT0gYm9keS5feSB8fFxuXHRcdFx0XHRib2R5LmFuZ2xlICAgIT09IGJvZHkuX2FuZ2xlIHx8XG5cdFx0XHRcdGJvZHkuc2NhbGVfeCAhPT0gYm9keS5fc2NhbGVfeCB8fFxuXHRcdFx0XHRib2R5LnNjYWxlX3kgIT09IGJvZHkuX3NjYWxlX3lcblx0XHRcdCkge1xuXHRcdFx0XHRib2R5Ll9jYWxjdWxhdGVDb29yZHMoKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRjb25zdCBwYWRkaW5nICAgID0gYm9keS5fYnZoX3BhZGRpbmc7XG5cdFx0Y29uc3QgcmFkaXVzICAgICA9IHBvbHlnb24gPyAwIDogYm9keS5yYWRpdXMgKiBib2R5LnNjYWxlO1xuXHRcdGNvbnN0IGJvZHlfbWluX3ggPSAocG9seWdvbiA/IGJvZHkuX21pbl94IDogYm9keV94IC0gcmFkaXVzKSAtIHBhZGRpbmc7XG5cdFx0Y29uc3QgYm9keV9taW5feSA9IChwb2x5Z29uID8gYm9keS5fbWluX3kgOiBib2R5X3kgLSByYWRpdXMpIC0gcGFkZGluZztcblx0XHRjb25zdCBib2R5X21heF94ID0gKHBvbHlnb24gPyBib2R5Ll9tYXhfeCA6IGJvZHlfeCArIHJhZGl1cykgKyBwYWRkaW5nO1xuXHRcdGNvbnN0IGJvZHlfbWF4X3kgPSAocG9seWdvbiA/IGJvZHkuX21heF95IDogYm9keV95ICsgcmFkaXVzKSArIHBhZGRpbmc7XG5cblx0XHRib2R5Ll9idmhfbWluX3ggPSBib2R5X21pbl94O1xuXHRcdGJvZHkuX2J2aF9taW5feSA9IGJvZHlfbWluX3k7XG5cdFx0Ym9keS5fYnZoX21heF94ID0gYm9keV9tYXhfeDtcblx0XHRib2R5Ll9idmhfbWF4X3kgPSBib2R5X21heF95O1xuXG5cdFx0bGV0IGN1cnJlbnQgPSB0aGlzLl9oaWVyYXJjaHk7XG5cdFx0bGV0IHNvcnQgICAgPSAwO1xuXG5cdFx0aWYoIWN1cnJlbnQpIHtcblx0XHRcdHRoaXMuX2hpZXJhcmNoeSA9IGJvZHk7XG5cdFx0fVxuXHRcdGVsc2Uge1xuXHRcdFx0d2hpbGUodHJ1ZSkge1xuXHRcdFx0XHQvLyBCcmFuY2hcblx0XHRcdFx0aWYoY3VycmVudC5fYnZoX2JyYW5jaCkge1xuXHRcdFx0XHRcdGNvbnN0IGxlZnQgICAgICAgICAgICA9IGN1cnJlbnQuX2J2aF9sZWZ0O1xuXHRcdFx0XHRcdGNvbnN0IGxlZnRfbWluX3kgICAgICA9IGxlZnQuX2J2aF9taW5feTtcblx0XHRcdFx0XHRjb25zdCBsZWZ0X21heF94ICAgICAgPSBsZWZ0Ll9idmhfbWF4X3g7XG5cdFx0XHRcdFx0Y29uc3QgbGVmdF9tYXhfeSAgICAgID0gbGVmdC5fYnZoX21heF95O1xuXHRcdFx0XHRcdGNvbnN0IGxlZnRfbmV3X21pbl94ICA9IGJvZHlfbWluX3ggPCBsZWZ0Ll9idmhfbWluX3ggPyBib2R5X21pbl94IDogbGVmdC5fYnZoX21pbl94O1xuXHRcdFx0XHRcdGNvbnN0IGxlZnRfbmV3X21pbl95ICA9IGJvZHlfbWluX3kgPCBsZWZ0X21pbl95ID8gYm9keV9taW5feSA6IGxlZnRfbWluX3k7XG5cdFx0XHRcdFx0Y29uc3QgbGVmdF9uZXdfbWF4X3ggID0gYm9keV9tYXhfeCA+IGxlZnRfbWF4X3ggPyBib2R5X21heF94IDogbGVmdF9tYXhfeDtcblx0XHRcdFx0XHRjb25zdCBsZWZ0X25ld19tYXhfeSAgPSBib2R5X21heF95ID4gbGVmdF9tYXhfeSA/IGJvZHlfbWF4X3kgOiBsZWZ0X21heF95O1xuXHRcdFx0XHRcdGNvbnN0IGxlZnRfdm9sdW1lICAgICA9IChsZWZ0X21heF94IC0gbGVmdC5fYnZoX21pbl94KSAqIChsZWZ0X21heF95IC0gbGVmdF9taW5feSk7XG5cdFx0XHRcdFx0Y29uc3QgbGVmdF9uZXdfdm9sdW1lID0gKGxlZnRfbmV3X21heF94IC0gbGVmdF9uZXdfbWluX3gpICogKGxlZnRfbmV3X21heF95IC0gbGVmdF9uZXdfbWluX3kpO1xuXHRcdFx0XHRcdGNvbnN0IGxlZnRfZGlmZmVyZW5jZSA9IGxlZnRfbmV3X3ZvbHVtZSAtIGxlZnRfdm9sdW1lO1xuXG5cdFx0XHRcdFx0Y29uc3QgcmlnaHQgICAgICAgICAgICA9IGN1cnJlbnQuX2J2aF9yaWdodDtcblx0XHRcdFx0XHRjb25zdCByaWdodF9taW5feCAgICAgID0gcmlnaHQuX2J2aF9taW5feDtcblx0XHRcdFx0XHRjb25zdCByaWdodF9taW5feSAgICAgID0gcmlnaHQuX2J2aF9taW5feTtcblx0XHRcdFx0XHRjb25zdCByaWdodF9tYXhfeCAgICAgID0gcmlnaHQuX2J2aF9tYXhfeDtcblx0XHRcdFx0XHRjb25zdCByaWdodF9tYXhfeSAgICAgID0gcmlnaHQuX2J2aF9tYXhfeTtcblx0XHRcdFx0XHRjb25zdCByaWdodF9uZXdfbWluX3ggID0gYm9keV9taW5feCA8IHJpZ2h0X21pbl94ID8gYm9keV9taW5feCA6IHJpZ2h0X21pbl94O1xuXHRcdFx0XHRcdGNvbnN0IHJpZ2h0X25ld19taW5feSAgPSBib2R5X21pbl95IDwgcmlnaHRfbWluX3kgPyBib2R5X21pbl95IDogcmlnaHRfbWluX3k7XG5cdFx0XHRcdFx0Y29uc3QgcmlnaHRfbmV3X21heF94ICA9IGJvZHlfbWF4X3ggPiByaWdodF9tYXhfeCA/IGJvZHlfbWF4X3ggOiByaWdodF9tYXhfeDtcblx0XHRcdFx0XHRjb25zdCByaWdodF9uZXdfbWF4X3kgID0gYm9keV9tYXhfeSA+IHJpZ2h0X21heF95ID8gYm9keV9tYXhfeSA6IHJpZ2h0X21heF95O1xuXHRcdFx0XHRcdGNvbnN0IHJpZ2h0X3ZvbHVtZSAgICAgPSAocmlnaHRfbWF4X3ggLSByaWdodF9taW5feCkgKiAocmlnaHRfbWF4X3kgLSByaWdodF9taW5feSk7XG5cdFx0XHRcdFx0Y29uc3QgcmlnaHRfbmV3X3ZvbHVtZSA9IChyaWdodF9uZXdfbWF4X3ggLSByaWdodF9uZXdfbWluX3gpICogKHJpZ2h0X25ld19tYXhfeSAtIHJpZ2h0X25ld19taW5feSk7XG5cdFx0XHRcdFx0Y29uc3QgcmlnaHRfZGlmZmVyZW5jZSA9IHJpZ2h0X25ld192b2x1bWUgLSByaWdodF92b2x1bWU7XG5cblx0XHRcdFx0XHRjdXJyZW50Ll9idmhfc29ydCAgPSBzb3J0Kys7XG5cdFx0XHRcdFx0Y3VycmVudC5fYnZoX21pbl94ID0gbGVmdF9uZXdfbWluX3ggPCByaWdodF9uZXdfbWluX3ggPyBsZWZ0X25ld19taW5feCA6IHJpZ2h0X25ld19taW5feDtcblx0XHRcdFx0XHRjdXJyZW50Ll9idmhfbWluX3kgPSBsZWZ0X25ld19taW5feSA8IHJpZ2h0X25ld19taW5feSA/IGxlZnRfbmV3X21pbl95IDogcmlnaHRfbmV3X21pbl95O1xuXHRcdFx0XHRcdGN1cnJlbnQuX2J2aF9tYXhfeCA9IGxlZnRfbmV3X21heF94ID4gcmlnaHRfbmV3X21heF94ID8gbGVmdF9uZXdfbWF4X3ggOiByaWdodF9uZXdfbWF4X3g7XG5cdFx0XHRcdFx0Y3VycmVudC5fYnZoX21heF95ID0gbGVmdF9uZXdfbWF4X3kgPiByaWdodF9uZXdfbWF4X3kgPyBsZWZ0X25ld19tYXhfeSA6IHJpZ2h0X25ld19tYXhfeTtcblxuXHRcdFx0XHRcdGN1cnJlbnQgPSBsZWZ0X2RpZmZlcmVuY2UgPD0gcmlnaHRfZGlmZmVyZW5jZSA/IGxlZnQgOiByaWdodDtcblx0XHRcdFx0fVxuXHRcdFx0XHQvLyBMZWFmXG5cdFx0XHRcdGVsc2Uge1xuXHRcdFx0XHRcdGNvbnN0IGdyYW5kcGFyZW50ICA9IGN1cnJlbnQuX2J2aF9wYXJlbnQ7XG5cdFx0XHRcdFx0Y29uc3QgcGFyZW50X21pbl94ID0gY3VycmVudC5fYnZoX21pbl94O1xuXHRcdFx0XHRcdGNvbnN0IHBhcmVudF9taW5feSA9IGN1cnJlbnQuX2J2aF9taW5feTtcblx0XHRcdFx0XHRjb25zdCBwYXJlbnRfbWF4X3ggPSBjdXJyZW50Ll9idmhfbWF4X3g7XG5cdFx0XHRcdFx0Y29uc3QgcGFyZW50X21heF95ID0gY3VycmVudC5fYnZoX21heF95O1xuXHRcdFx0XHRcdGNvbnN0IG5ld19wYXJlbnQgICA9IGN1cnJlbnQuX2J2aF9wYXJlbnQgPSBib2R5Ll9idmhfcGFyZW50ID0gQlZIQnJhbmNoLmdldEJyYW5jaCgpO1xuXG5cdFx0XHRcdFx0bmV3X3BhcmVudC5fYnZoX3BhcmVudCA9IGdyYW5kcGFyZW50O1xuXHRcdFx0XHRcdG5ld19wYXJlbnQuX2J2aF9sZWZ0ICAgPSBjdXJyZW50O1xuXHRcdFx0XHRcdG5ld19wYXJlbnQuX2J2aF9yaWdodCAgPSBib2R5O1xuXHRcdFx0XHRcdG5ld19wYXJlbnQuX2J2aF9zb3J0ICAgPSBzb3J0Kys7XG5cdFx0XHRcdFx0bmV3X3BhcmVudC5fYnZoX21pbl94ICA9IGJvZHlfbWluX3ggPCBwYXJlbnRfbWluX3ggPyBib2R5X21pbl94IDogcGFyZW50X21pbl94O1xuXHRcdFx0XHRcdG5ld19wYXJlbnQuX2J2aF9taW5feSAgPSBib2R5X21pbl95IDwgcGFyZW50X21pbl95ID8gYm9keV9taW5feSA6IHBhcmVudF9taW5feTtcblx0XHRcdFx0XHRuZXdfcGFyZW50Ll9idmhfbWF4X3ggID0gYm9keV9tYXhfeCA+IHBhcmVudF9tYXhfeCA/IGJvZHlfbWF4X3ggOiBwYXJlbnRfbWF4X3g7XG5cdFx0XHRcdFx0bmV3X3BhcmVudC5fYnZoX21heF95ICA9IGJvZHlfbWF4X3kgPiBwYXJlbnRfbWF4X3kgPyBib2R5X21heF95IDogcGFyZW50X21heF95O1xuXG5cdFx0XHRcdFx0aWYoIWdyYW5kcGFyZW50KSB7XG5cdFx0XHRcdFx0XHR0aGlzLl9oaWVyYXJjaHkgPSBuZXdfcGFyZW50O1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRlbHNlIGlmKGdyYW5kcGFyZW50Ll9idmhfbGVmdCA9PT0gY3VycmVudCkge1xuXHRcdFx0XHRcdFx0Z3JhbmRwYXJlbnQuX2J2aF9sZWZ0ID0gbmV3X3BhcmVudDtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0ZWxzZSB7XG5cdFx0XHRcdFx0XHRncmFuZHBhcmVudC5fYnZoX3JpZ2h0ID0gbmV3X3BhcmVudDtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdC8qKlxuXHQgKiBSZW1vdmVzIGEgYm9keSBmcm9tIHRoZSBCVkhcblx0ICogQHBhcmFtIHtDaXJjbGV8UG9seWdvbnxQb2ludH0gYm9keSBUaGUgYm9keSB0byByZW1vdmVcblx0ICogQHBhcmFtIHtCb29sZWFufSBbdXBkYXRpbmcgPSBmYWxzZV0gU2V0IHRvIHRydWUgaWYgdGhpcyBpcyBhIHRlbXBvcmFyeSByZW1vdmFsICh1c2VkIGludGVybmFsbHkgd2hlbiB1cGRhdGluZyB0aGUgYm9keSdzIHBvc2l0aW9uKVxuXHQgKi9cblx0cmVtb3ZlKGJvZHksIHVwZGF0aW5nID0gZmFsc2UpIHtcblx0XHRpZighdXBkYXRpbmcpIHtcblx0XHRcdGNvbnN0IGJ2aCA9IGJvZHkuX2J2aDtcblxuXHRcdFx0aWYoYnZoICYmIGJ2aCAhPT0gdGhpcykge1xuXHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoJ0JvZHkgYmVsb25ncyB0byBhbm90aGVyIGNvbGxpc2lvbiBzeXN0ZW0nKTtcblx0XHRcdH1cblxuXHRcdFx0Ym9keS5fYnZoID0gbnVsbDtcblx0XHRcdHRoaXMuX2JvZGllcy5zcGxpY2UodGhpcy5fYm9kaWVzLmluZGV4T2YoYm9keSksIDEpO1xuXHRcdH1cblxuXHRcdGlmKHRoaXMuX2hpZXJhcmNoeSA9PT0gYm9keSkge1xuXHRcdFx0dGhpcy5faGllcmFyY2h5ID0gbnVsbDtcblxuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdGNvbnN0IHBhcmVudCAgICAgICA9IGJvZHkuX2J2aF9wYXJlbnQ7XG5cdFx0Y29uc3QgZ3JhbmRwYXJlbnQgID0gcGFyZW50Ll9idmhfcGFyZW50O1xuXHRcdGNvbnN0IHBhcmVudF9sZWZ0ICA9IHBhcmVudC5fYnZoX2xlZnQ7XG5cdFx0Y29uc3Qgc2libGluZyAgICAgID0gcGFyZW50X2xlZnQgPT09IGJvZHkgPyBwYXJlbnQuX2J2aF9yaWdodCA6IHBhcmVudF9sZWZ0O1xuXG5cdFx0c2libGluZy5fYnZoX3BhcmVudCA9IGdyYW5kcGFyZW50O1xuXG5cdFx0aWYoc2libGluZy5fYnZoX2JyYW5jaCkge1xuXHRcdFx0c2libGluZy5fYnZoX3NvcnQgPSBwYXJlbnQuX2J2aF9zb3J0O1xuXHRcdH1cblxuXHRcdGlmKGdyYW5kcGFyZW50KSB7XG5cdFx0XHRpZihncmFuZHBhcmVudC5fYnZoX2xlZnQgPT09IHBhcmVudCkge1xuXHRcdFx0XHRncmFuZHBhcmVudC5fYnZoX2xlZnQgPSBzaWJsaW5nO1xuXHRcdFx0fVxuXHRcdFx0ZWxzZSB7XG5cdFx0XHRcdGdyYW5kcGFyZW50Ll9idmhfcmlnaHQgPSBzaWJsaW5nO1xuXHRcdFx0fVxuXG5cdFx0XHRsZXQgYnJhbmNoID0gZ3JhbmRwYXJlbnQ7XG5cblx0XHRcdHdoaWxlKGJyYW5jaCkge1xuXHRcdFx0XHRjb25zdCBsZWZ0ICAgICAgID0gYnJhbmNoLl9idmhfbGVmdDtcblx0XHRcdFx0Y29uc3QgbGVmdF9taW5feCA9IGxlZnQuX2J2aF9taW5feDtcblx0XHRcdFx0Y29uc3QgbGVmdF9taW5feSA9IGxlZnQuX2J2aF9taW5feTtcblx0XHRcdFx0Y29uc3QgbGVmdF9tYXhfeCA9IGxlZnQuX2J2aF9tYXhfeDtcblx0XHRcdFx0Y29uc3QgbGVmdF9tYXhfeSA9IGxlZnQuX2J2aF9tYXhfeTtcblxuXHRcdFx0XHRjb25zdCByaWdodCAgICAgICA9IGJyYW5jaC5fYnZoX3JpZ2h0O1xuXHRcdFx0XHRjb25zdCByaWdodF9taW5feCA9IHJpZ2h0Ll9idmhfbWluX3g7XG5cdFx0XHRcdGNvbnN0IHJpZ2h0X21pbl95ID0gcmlnaHQuX2J2aF9taW5feTtcblx0XHRcdFx0Y29uc3QgcmlnaHRfbWF4X3ggPSByaWdodC5fYnZoX21heF94O1xuXHRcdFx0XHRjb25zdCByaWdodF9tYXhfeSA9IHJpZ2h0Ll9idmhfbWF4X3k7XG5cblx0XHRcdFx0YnJhbmNoLl9idmhfbWluX3ggPSBsZWZ0X21pbl94IDwgcmlnaHRfbWluX3ggPyBsZWZ0X21pbl94IDogcmlnaHRfbWluX3g7XG5cdFx0XHRcdGJyYW5jaC5fYnZoX21pbl95ID0gbGVmdF9taW5feSA8IHJpZ2h0X21pbl95ID8gbGVmdF9taW5feSA6IHJpZ2h0X21pbl95O1xuXHRcdFx0XHRicmFuY2guX2J2aF9tYXhfeCA9IGxlZnRfbWF4X3ggPiByaWdodF9tYXhfeCA/IGxlZnRfbWF4X3ggOiByaWdodF9tYXhfeDtcblx0XHRcdFx0YnJhbmNoLl9idmhfbWF4X3kgPSBsZWZ0X21heF95ID4gcmlnaHRfbWF4X3kgPyBsZWZ0X21heF95IDogcmlnaHRfbWF4X3k7XG5cblx0XHRcdFx0YnJhbmNoID0gYnJhbmNoLl9idmhfcGFyZW50O1xuXHRcdFx0fVxuXHRcdH1cblx0XHRlbHNlIHtcblx0XHRcdHRoaXMuX2hpZXJhcmNoeSA9IHNpYmxpbmc7XG5cdFx0fVxuXG5cdFx0QlZIQnJhbmNoLnJlbGVhc2VCcmFuY2gocGFyZW50KTtcblx0fVxuXG5cdC8qKlxuXHQgKiBVcGRhdGVzIHRoZSBCVkguIE1vdmVkIGJvZGllcyBhcmUgcmVtb3ZlZC9pbnNlcnRlZC5cblx0ICovXG5cdHVwZGF0ZSgpIHtcblx0XHRjb25zdCBib2RpZXMgPSB0aGlzLl9ib2RpZXM7XG5cdFx0Y29uc3QgY291bnQgID0gYm9kaWVzLmxlbmd0aDtcblxuXHRcdGZvcihsZXQgaSA9IDA7IGkgPCBjb3VudDsgKytpKSB7XG5cdFx0XHRjb25zdCBib2R5ID0gYm9kaWVzW2ldO1xuXG5cdFx0XHRsZXQgdXBkYXRlID0gZmFsc2U7XG5cblx0XHRcdGlmKCF1cGRhdGUgJiYgYm9keS5wYWRkaW5nICE9PSBib2R5Ll9idmhfcGFkZGluZykge1xuXHRcdFx0XHRib2R5Ll9idmhfcGFkZGluZyA9IGJvZHkucGFkZGluZztcblx0XHRcdFx0dXBkYXRlID0gdHJ1ZTtcblx0XHRcdH1cblxuXHRcdFx0aWYoIXVwZGF0ZSkge1xuXHRcdFx0XHRjb25zdCBwb2x5Z29uID0gYm9keS5fcG9seWdvbjtcblxuXHRcdFx0XHRpZihwb2x5Z29uKSB7XG5cdFx0XHRcdFx0aWYoXG5cdFx0XHRcdFx0XHRib2R5Ll9kaXJ0eV9jb29yZHMgfHxcblx0XHRcdFx0XHRcdGJvZHkueCAgICAgICAhPT0gYm9keS5feCB8fFxuXHRcdFx0XHRcdFx0Ym9keS55ICAgICAgICE9PSBib2R5Ll95IHx8XG5cdFx0XHRcdFx0XHRib2R5LmFuZ2xlICAgIT09IGJvZHkuX2FuZ2xlIHx8XG5cdFx0XHRcdFx0XHRib2R5LnNjYWxlX3ggIT09IGJvZHkuX3NjYWxlX3ggfHxcblx0XHRcdFx0XHRcdGJvZHkuc2NhbGVfeSAhPT0gYm9keS5fc2NhbGVfeVxuXHRcdFx0XHRcdCkge1xuXHRcdFx0XHRcdFx0Ym9keS5fY2FsY3VsYXRlQ29vcmRzKCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cblx0XHRcdFx0Y29uc3QgeCAgICAgID0gYm9keS54O1xuXHRcdFx0XHRjb25zdCB5ICAgICAgPSBib2R5Lnk7XG5cdFx0XHRcdGNvbnN0IHJhZGl1cyA9IHBvbHlnb24gPyAwIDogYm9keS5yYWRpdXMgKiBib2R5LnNjYWxlO1xuXHRcdFx0XHRjb25zdCBtaW5feCAgPSBwb2x5Z29uID8gYm9keS5fbWluX3ggOiB4IC0gcmFkaXVzO1xuXHRcdFx0XHRjb25zdCBtaW5feSAgPSBwb2x5Z29uID8gYm9keS5fbWluX3kgOiB5IC0gcmFkaXVzO1xuXHRcdFx0XHRjb25zdCBtYXhfeCAgPSBwb2x5Z29uID8gYm9keS5fbWF4X3ggOiB4ICsgcmFkaXVzO1xuXHRcdFx0XHRjb25zdCBtYXhfeSAgPSBwb2x5Z29uID8gYm9keS5fbWF4X3kgOiB5ICsgcmFkaXVzO1xuXG5cdFx0XHRcdHVwZGF0ZSA9IG1pbl94IDwgYm9keS5fYnZoX21pbl94IHx8IG1pbl95IDwgYm9keS5fYnZoX21pbl95IHx8IG1heF94ID4gYm9keS5fYnZoX21heF94IHx8IG1heF95ID4gYm9keS5fYnZoX21heF95O1xuXHRcdFx0fVxuXG5cdFx0XHRpZih1cGRhdGUpIHtcblx0XHRcdFx0dGhpcy5yZW1vdmUoYm9keSwgdHJ1ZSk7XG5cdFx0XHRcdHRoaXMuaW5zZXJ0KGJvZHksIHRydWUpO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdC8qKlxuXHQgKiBSZXR1cm5zIGEgbGlzdCBvZiBwb3RlbnRpYWwgY29sbGlzaW9ucyBmb3IgYSBib2R5XG5cdCAqIEBwYXJhbSB7Q2lyY2xlfFBvbHlnb258UG9pbnR9IGJvZHkgVGhlIGJvZHkgdG8gdGVzdFxuXHQgKiBAcmV0dXJucyB7QXJyYXk8Qm9keT59XG5cdCAqL1xuXHRwb3RlbnRpYWxzKGJvZHkpIHtcblx0XHRjb25zdCByZXN1bHRzID0gW107XG5cdFx0Y29uc3QgbWluX3ggICA9IGJvZHkuX2J2aF9taW5feDtcblx0XHRjb25zdCBtaW5feSAgID0gYm9keS5fYnZoX21pbl95O1xuXHRcdGNvbnN0IG1heF94ICAgPSBib2R5Ll9idmhfbWF4X3g7XG5cdFx0Y29uc3QgbWF4X3kgICA9IGJvZHkuX2J2aF9tYXhfeTtcblxuXHRcdGxldCBjdXJyZW50ICAgICAgID0gdGhpcy5faGllcmFyY2h5O1xuXHRcdGxldCB0cmF2ZXJzZV9sZWZ0ID0gdHJ1ZTtcblxuXHRcdGlmKCFjdXJyZW50IHx8ICFjdXJyZW50Ll9idmhfYnJhbmNoKSB7XG5cdFx0XHRyZXR1cm4gcmVzdWx0cztcblx0XHR9XG5cblx0XHR3aGlsZShjdXJyZW50KSB7XG5cdFx0XHRpZih0cmF2ZXJzZV9sZWZ0KSB7XG5cdFx0XHRcdHRyYXZlcnNlX2xlZnQgPSBmYWxzZTtcblxuXHRcdFx0XHRsZXQgbGVmdCA9IGN1cnJlbnQuX2J2aF9icmFuY2ggPyBjdXJyZW50Ll9idmhfbGVmdCA6IG51bGw7XG5cblx0XHRcdFx0d2hpbGUoXG5cdFx0XHRcdFx0bGVmdCAmJlxuXHRcdFx0XHRcdGxlZnQuX2J2aF9tYXhfeCA+PSBtaW5feCAmJlxuXHRcdFx0XHRcdGxlZnQuX2J2aF9tYXhfeSA+PSBtaW5feSAmJlxuXHRcdFx0XHRcdGxlZnQuX2J2aF9taW5feCA8PSBtYXhfeCAmJlxuXHRcdFx0XHRcdGxlZnQuX2J2aF9taW5feSA8PSBtYXhfeVxuXHRcdFx0XHQpIHtcblx0XHRcdFx0XHRjdXJyZW50ID0gbGVmdDtcblx0XHRcdFx0XHRsZWZ0ICAgID0gY3VycmVudC5fYnZoX2JyYW5jaCA/IGN1cnJlbnQuX2J2aF9sZWZ0IDogbnVsbDtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHRjb25zdCBicmFuY2ggPSBjdXJyZW50Ll9idmhfYnJhbmNoO1xuXHRcdFx0Y29uc3QgcmlnaHQgID0gYnJhbmNoID8gY3VycmVudC5fYnZoX3JpZ2h0IDogbnVsbDtcblxuXHRcdFx0aWYoXG5cdFx0XHRcdHJpZ2h0ICYmXG5cdFx0XHRcdHJpZ2h0Ll9idmhfbWF4X3ggPiBtaW5feCAmJlxuXHRcdFx0XHRyaWdodC5fYnZoX21heF95ID4gbWluX3kgJiZcblx0XHRcdFx0cmlnaHQuX2J2aF9taW5feCA8IG1heF94ICYmXG5cdFx0XHRcdHJpZ2h0Ll9idmhfbWluX3kgPCBtYXhfeVxuXHRcdFx0KSB7XG5cdFx0XHRcdGN1cnJlbnQgICAgICAgPSByaWdodDtcblx0XHRcdFx0dHJhdmVyc2VfbGVmdCA9IHRydWU7XG5cdFx0XHR9XG5cdFx0XHRlbHNlIHtcblx0XHRcdFx0aWYoIWJyYW5jaCAmJiBjdXJyZW50ICE9PSBib2R5KSB7XG5cdFx0XHRcdFx0cmVzdWx0cy5wdXNoKGN1cnJlbnQpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0bGV0IHBhcmVudCA9IGN1cnJlbnQuX2J2aF9wYXJlbnQ7XG5cblx0XHRcdFx0aWYocGFyZW50KSB7XG5cdFx0XHRcdFx0d2hpbGUocGFyZW50ICYmIHBhcmVudC5fYnZoX3JpZ2h0ID09PSBjdXJyZW50KSB7XG5cdFx0XHRcdFx0XHRjdXJyZW50ID0gcGFyZW50O1xuXHRcdFx0XHRcdFx0cGFyZW50ICA9IGN1cnJlbnQuX2J2aF9wYXJlbnQ7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Y3VycmVudCA9IHBhcmVudDtcblx0XHRcdFx0fVxuXHRcdFx0XHRlbHNlIHtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiByZXN1bHRzO1xuXHR9XG5cblx0LyoqXG5cdCAqIERyYXdzIHRoZSBib2RpZXMgd2l0aGluIHRoZSBCVkggdG8gYSBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQncyBjdXJyZW50IHBhdGhcblx0ICogQHBhcmFtIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9IGNvbnRleHQgVGhlIGNvbnRleHQgdG8gZHJhdyB0b1xuXHQgKi9cblx0ZHJhdyhjb250ZXh0KSB7XG5cdFx0Y29uc3QgYm9kaWVzID0gdGhpcy5fYm9kaWVzO1xuXHRcdGNvbnN0IGNvdW50ICA9IGJvZGllcy5sZW5ndGg7XG5cblx0XHRmb3IobGV0IGkgPSAwOyBpIDwgY291bnQ7ICsraSkge1xuXHRcdFx0Ym9kaWVzW2ldLmRyYXcoY29udGV4dCk7XG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdCAqIERyYXdzIHRoZSBCVkggdG8gYSBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQncyBjdXJyZW50IHBhdGguIFRoaXMgaXMgdXNlZnVsIGZvciB0ZXN0aW5nIG91dCBkaWZmZXJlbnQgcGFkZGluZyB2YWx1ZXMgZm9yIGJvZGllcy5cblx0ICogQHBhcmFtIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9IGNvbnRleHQgVGhlIGNvbnRleHQgdG8gZHJhdyB0b1xuXHQgKi9cblx0ZHJhd0JWSChjb250ZXh0KSB7XG5cdFx0bGV0IGN1cnJlbnQgICAgICAgPSB0aGlzLl9oaWVyYXJjaHk7XG5cdFx0bGV0IHRyYXZlcnNlX2xlZnQgPSB0cnVlO1xuXG5cdFx0d2hpbGUoY3VycmVudCkge1xuXHRcdFx0aWYodHJhdmVyc2VfbGVmdCkge1xuXHRcdFx0XHR0cmF2ZXJzZV9sZWZ0ID0gZmFsc2U7XG5cblx0XHRcdFx0bGV0IGxlZnQgPSBjdXJyZW50Ll9idmhfYnJhbmNoID8gY3VycmVudC5fYnZoX2xlZnQgOiBudWxsO1xuXG5cdFx0XHRcdHdoaWxlKGxlZnQpIHtcblx0XHRcdFx0XHRjdXJyZW50ID0gbGVmdDtcblx0XHRcdFx0XHRsZWZ0ICAgID0gY3VycmVudC5fYnZoX2JyYW5jaCA/IGN1cnJlbnQuX2J2aF9sZWZ0IDogbnVsbDtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHRjb25zdCBicmFuY2ggPSBjdXJyZW50Ll9idmhfYnJhbmNoO1xuXHRcdFx0Y29uc3QgbWluX3ggID0gY3VycmVudC5fYnZoX21pbl94O1xuXHRcdFx0Y29uc3QgbWluX3kgID0gY3VycmVudC5fYnZoX21pbl95O1xuXHRcdFx0Y29uc3QgbWF4X3ggID0gY3VycmVudC5fYnZoX21heF94O1xuXHRcdFx0Y29uc3QgbWF4X3kgID0gY3VycmVudC5fYnZoX21heF95O1xuXHRcdFx0Y29uc3QgcmlnaHQgID0gYnJhbmNoID8gY3VycmVudC5fYnZoX3JpZ2h0IDogbnVsbDtcblxuXHRcdFx0Y29udGV4dC5tb3ZlVG8obWluX3gsIG1pbl95KTtcblx0XHRcdGNvbnRleHQubGluZVRvKG1heF94LCBtaW5feSk7XG5cdFx0XHRjb250ZXh0LmxpbmVUbyhtYXhfeCwgbWF4X3kpO1xuXHRcdFx0Y29udGV4dC5saW5lVG8obWluX3gsIG1heF95KTtcblx0XHRcdGNvbnRleHQubGluZVRvKG1pbl94LCBtaW5feSk7XG5cblx0XHRcdGlmKHJpZ2h0KSB7XG5cdFx0XHRcdGN1cnJlbnQgICAgICAgPSByaWdodDtcblx0XHRcdFx0dHJhdmVyc2VfbGVmdCA9IHRydWU7XG5cdFx0XHR9XG5cdFx0XHRlbHNlIHtcblx0XHRcdFx0bGV0IHBhcmVudCA9IGN1cnJlbnQuX2J2aF9wYXJlbnQ7XG5cblx0XHRcdFx0aWYocGFyZW50KSB7XG5cdFx0XHRcdFx0d2hpbGUocGFyZW50ICYmIHBhcmVudC5fYnZoX3JpZ2h0ID09PSBjdXJyZW50KSB7XG5cdFx0XHRcdFx0XHRjdXJyZW50ID0gcGFyZW50O1xuXHRcdFx0XHRcdFx0cGFyZW50ICA9IGN1cnJlbnQuX2J2aF9wYXJlbnQ7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Y3VycmVudCA9IHBhcmVudDtcblx0XHRcdFx0fVxuXHRcdFx0XHRlbHNlIHtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fVxufTtcbiIsIi8qKlxuICogQW4gb2JqZWN0IHVzZWQgdG8gY29sbGVjdCB0aGUgZGV0YWlsZWQgcmVzdWx0cyBvZiBhIGNvbGxpc2lvbiB0ZXN0XG4gKlxuICogPiAqKk5vdGU6KiogSXQgaXMgaGlnaGx5IHJlY29tbWVuZGVkIHlvdSByZWN5Y2xlIHRoZSBzYW1lIFJlc3VsdCBvYmplY3QgaWYgcG9zc2libGUgaW4gb3JkZXIgdG8gYXZvaWQgd2FzdGluZyBtZW1vcnlcbiAqIEBjbGFzc1xuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBSZXN1bHQge1xuXHQvKipcblx0ICogQGNvbnN0cnVjdG9yXG5cdCAqL1xuXHRjb25zdHJ1Y3RvcigpIHtcblx0XHQvKipcblx0XHQgKiBAZGVzYyBUcnVlIGlmIGEgY29sbGlzaW9uIHdhcyBkZXRlY3RlZFxuXHRcdCAqIEB0eXBlIHtCb29sZWFufVxuXHRcdCAqL1xuXHRcdHRoaXMuY29sbGlzaW9uID0gZmFsc2U7XG5cblx0XHQvKipcblx0XHQgKiBAZGVzYyBUaGUgc291cmNlIGJvZHkgdGVzdGVkXG5cdFx0ICogQHR5cGUge0NpcmNsZXxQb2x5Z29ufFBvaW50fVxuXHRcdCAqL1xuXHRcdHRoaXMuYSA9IG51bGw7XG5cblx0XHQvKipcblx0XHQgKiBAZGVzYyBUaGUgdGFyZ2V0IGJvZHkgdGVzdGVkIGFnYWluc3Rcblx0XHQgKiBAdHlwZSB7Q2lyY2xlfFBvbHlnb258UG9pbnR9XG5cdFx0ICovXG5cdFx0dGhpcy5iID0gbnVsbDtcblxuXHRcdC8qKlxuXHRcdCAqIEBkZXNjIFRydWUgaWYgQSBpcyBjb21wbGV0ZWx5IGNvbnRhaW5lZCB3aXRoaW4gQlxuXHRcdCAqIEB0eXBlIHtCb29sZWFufVxuXHRcdCAqL1xuXHRcdHRoaXMuYV9pbl9iID0gZmFsc2U7XG5cblx0XHQvKipcblx0XHQgKiBAZGVzYyBUcnVlIGlmIEIgaXMgY29tcGxldGVseSBjb250YWluZWQgd2l0aGluIEFcblx0XHQgKiBAdHlwZSB7Qm9vbGVhbn1cblx0XHQgKi9cblx0XHR0aGlzLmFfaW5fYiA9IGZhbHNlO1xuXG5cdFx0LyoqXG5cdFx0ICogQGRlc2MgVGhlIG1hZ25pdHVkZSBvZiB0aGUgc2hvcnRlc3QgYXhpcyBvZiBvdmVybGFwXG5cdFx0ICogQHR5cGUge051bWJlcn1cblx0XHQgKi9cblx0XHR0aGlzLm92ZXJsYXAgPSAwO1xuXG5cdFx0LyoqXG5cdFx0ICogQGRlc2MgVGhlIFggZGlyZWN0aW9uIG9mIHRoZSBzaG9ydGVzdCBheGlzIG9mIG92ZXJsYXBcblx0XHQgKiBAdHlwZSB7TnVtYmVyfVxuXHRcdCAqL1xuXHRcdHRoaXMub3ZlcmxhcF94ID0gMDtcblxuXHRcdC8qKlxuXHRcdCAqIEBkZXNjIFRoZSBZIGRpcmVjdGlvbiBvZiB0aGUgc2hvcnRlc3QgYXhpcyBvZiBvdmVybGFwXG5cdFx0ICogQHR5cGUge051bWJlcn1cblx0XHQgKi9cblx0XHR0aGlzLm92ZXJsYXBfeSA9IDA7XG5cdH1cbn07XG4iLCIvKipcbiAqIERldGVybWluZXMgaWYgdHdvIGJvZGllcyBhcmUgY29sbGlkaW5nIHVzaW5nIHRoZSBTZXBhcmF0aW5nIEF4aXMgVGhlb3JlbVxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Q2lyY2xlfFBvbHlnb258UG9pbnR9IGEgVGhlIHNvdXJjZSBib2R5IHRvIHRlc3RcbiAqIEBwYXJhbSB7Q2lyY2xlfFBvbHlnb258UG9pbnR9IGIgVGhlIHRhcmdldCBib2R5IHRvIHRlc3QgYWdhaW5zdFxuICogQHBhcmFtIHtSZXN1bHR9IFtyZXN1bHQgPSBudWxsXSBBIFJlc3VsdCBvYmplY3Qgb24gd2hpY2ggdG8gc3RvcmUgaW5mb3JtYXRpb24gYWJvdXQgdGhlIGNvbGxpc2lvblxuICogQHBhcmFtIHtCb29sZWFufSBbYWFiYiA9IHRydWVdIFNldCB0byBmYWxzZSB0byBza2lwIHRoZSBBQUJCIHRlc3QgKHVzZWZ1bCBpZiB5b3UgdXNlIHlvdXIgb3duIGNvbGxpc2lvbiBoZXVyaXN0aWMpXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn1cbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gU0FUKGEsIGIsIHJlc3VsdCA9IG51bGwsIGFhYmIgPSB0cnVlKSB7XG5cdGNvbnN0IGFfcG9seWdvbiA9IGEuX3BvbHlnb247XG5cdGNvbnN0IGJfcG9seWdvbiA9IGIuX3BvbHlnb247XG5cblx0bGV0IGNvbGxpc2lvbiA9IGZhbHNlO1xuXG5cdGlmKHJlc3VsdCkge1xuXHRcdHJlc3VsdC5hICAgICAgICAgPSBhO1xuXHRcdHJlc3VsdC5iICAgICAgICAgPSBiO1xuXHRcdHJlc3VsdC5hX2luX2IgICAgPSB0cnVlO1xuXHRcdHJlc3VsdC5iX2luX2EgICAgPSB0cnVlO1xuXHRcdHJlc3VsdC5vdmVybGFwICAgPSBudWxsO1xuXHRcdHJlc3VsdC5vdmVybGFwX3ggPSAwO1xuXHRcdHJlc3VsdC5vdmVybGFwX3kgPSAwO1xuXHR9XG5cblx0aWYoYV9wb2x5Z29uKSB7XG5cdFx0aWYoXG5cdFx0XHRhLl9kaXJ0eV9jb29yZHMgfHxcblx0XHRcdGEueCAgICAgICAhPT0gYS5feCB8fFxuXHRcdFx0YS55ICAgICAgICE9PSBhLl95IHx8XG5cdFx0XHRhLmFuZ2xlICAgIT09IGEuX2FuZ2xlIHx8XG5cdFx0XHRhLnNjYWxlX3ggIT09IGEuX3NjYWxlX3ggfHxcblx0XHRcdGEuc2NhbGVfeSAhPT0gYS5fc2NhbGVfeVxuXHRcdCkge1xuXHRcdFx0YS5fY2FsY3VsYXRlQ29vcmRzKCk7XG5cdFx0fVxuXHR9XG5cblx0aWYoYl9wb2x5Z29uKSB7XG5cdFx0aWYoXG5cdFx0XHRiLl9kaXJ0eV9jb29yZHMgfHxcblx0XHRcdGIueCAgICAgICAhPT0gYi5feCB8fFxuXHRcdFx0Yi55ICAgICAgICE9PSBiLl95IHx8XG5cdFx0XHRiLmFuZ2xlICAgIT09IGIuX2FuZ2xlIHx8XG5cdFx0XHRiLnNjYWxlX3ggIT09IGIuX3NjYWxlX3ggfHxcblx0XHRcdGIuc2NhbGVfeSAhPT0gYi5fc2NhbGVfeVxuXHRcdCkge1xuXHRcdFx0Yi5fY2FsY3VsYXRlQ29vcmRzKCk7XG5cdFx0fVxuXHR9XG5cblx0aWYoIWFhYmIgfHwgYWFiYkFBQkIoYSwgYikpIHtcblx0XHRpZihhX3BvbHlnb24gJiYgYS5fZGlydHlfbm9ybWFscykge1xuXHRcdFx0YS5fY2FsY3VsYXRlTm9ybWFscygpO1xuXHRcdH1cblxuXHRcdGlmKGJfcG9seWdvbiAmJiBiLl9kaXJ0eV9ub3JtYWxzKSB7XG5cdFx0XHRiLl9jYWxjdWxhdGVOb3JtYWxzKCk7XG5cdFx0fVxuXG5cdFx0Y29sbGlzaW9uID0gKFxuXHRcdFx0YV9wb2x5Z29uICYmIGJfcG9seWdvbiA/IHBvbHlnb25Qb2x5Z29uKGEsIGIsIHJlc3VsdCkgOlxuXHRcdFx0YV9wb2x5Z29uID8gcG9seWdvbkNpcmNsZShhLCBiLCByZXN1bHQsIGZhbHNlKSA6XG5cdFx0XHRiX3BvbHlnb24gPyBwb2x5Z29uQ2lyY2xlKGIsIGEsIHJlc3VsdCwgdHJ1ZSkgOlxuXHRcdFx0Y2lyY2xlQ2lyY2xlKGEsIGIsIHJlc3VsdClcblx0XHQpO1xuXHR9XG5cblx0aWYocmVzdWx0KSB7XG5cdFx0cmVzdWx0LmNvbGxpc2lvbiA9IGNvbGxpc2lvbjtcblx0fVxuXG5cdHJldHVybiBjb2xsaXNpb247XG59O1xuXG4vKipcbiAqIERldGVybWluZXMgaWYgdHdvIGJvZGllcycgYXhpcyBhbGlnbmVkIGJvdW5kaW5nIGJveGVzIGFyZSBjb2xsaWRpbmdcbiAqIEBwYXJhbSB7Q2lyY2xlfFBvbHlnb258UG9pbnR9IGEgVGhlIHNvdXJjZSBib2R5IHRvIHRlc3RcbiAqIEBwYXJhbSB7Q2lyY2xlfFBvbHlnb258UG9pbnR9IGIgVGhlIHRhcmdldCBib2R5IHRvIHRlc3QgYWdhaW5zdFxuICovXG5mdW5jdGlvbiBhYWJiQUFCQihhLCBiKSB7XG5cdGNvbnN0IGFfcG9seWdvbiA9IGEuX3BvbHlnb247XG5cdGNvbnN0IGFfeCAgICAgICA9IGFfcG9seWdvbiA/IDAgOiBhLng7XG5cdGNvbnN0IGFfeSAgICAgICA9IGFfcG9seWdvbiA/IDAgOiBhLnk7XG5cdGNvbnN0IGFfcmFkaXVzICA9IGFfcG9seWdvbiA/IDAgOiBhLnJhZGl1cyAqIGEuc2NhbGU7XG5cdGNvbnN0IGFfbWluX3ggICA9IGFfcG9seWdvbiA/IGEuX21pbl94IDogYV94IC0gYV9yYWRpdXM7XG5cdGNvbnN0IGFfbWluX3kgICA9IGFfcG9seWdvbiA/IGEuX21pbl95IDogYV95IC0gYV9yYWRpdXM7XG5cdGNvbnN0IGFfbWF4X3ggICA9IGFfcG9seWdvbiA/IGEuX21heF94IDogYV94ICsgYV9yYWRpdXM7XG5cdGNvbnN0IGFfbWF4X3kgICA9IGFfcG9seWdvbiA/IGEuX21heF95IDogYV95ICsgYV9yYWRpdXM7XG5cblx0Y29uc3QgYl9wb2x5Z29uID0gYi5fcG9seWdvbjtcblx0Y29uc3QgYl94ICAgICAgID0gYl9wb2x5Z29uID8gMCA6IGIueDtcblx0Y29uc3QgYl95ICAgICAgID0gYl9wb2x5Z29uID8gMCA6IGIueTtcblx0Y29uc3QgYl9yYWRpdXMgID0gYl9wb2x5Z29uID8gMCA6IGIucmFkaXVzICogYi5zY2FsZTtcblx0Y29uc3QgYl9taW5feCAgID0gYl9wb2x5Z29uID8gYi5fbWluX3ggOiBiX3ggLSBiX3JhZGl1cztcblx0Y29uc3QgYl9taW5feSAgID0gYl9wb2x5Z29uID8gYi5fbWluX3kgOiBiX3kgLSBiX3JhZGl1cztcblx0Y29uc3QgYl9tYXhfeCAgID0gYl9wb2x5Z29uID8gYi5fbWF4X3ggOiBiX3ggKyBiX3JhZGl1cztcblx0Y29uc3QgYl9tYXhfeSAgID0gYl9wb2x5Z29uID8gYi5fbWF4X3kgOiBiX3kgKyBiX3JhZGl1cztcblxuXHRyZXR1cm4gYV9taW5feCA8IGJfbWF4X3ggJiYgYV9taW5feSA8IGJfbWF4X3kgJiYgYV9tYXhfeCA+IGJfbWluX3ggJiYgYV9tYXhfeSA+IGJfbWluX3k7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lcyBpZiB0d28gcG9seWdvbnMgYXJlIGNvbGxpZGluZ1xuICogQHBhcmFtIHtQb2x5Z29ufSBhIFRoZSBzb3VyY2UgcG9seWdvbiB0byB0ZXN0XG4gKiBAcGFyYW0ge1BvbHlnb259IGIgVGhlIHRhcmdldCBwb2x5Z29uIHRvIHRlc3QgYWdhaW5zdFxuICogQHBhcmFtIHtSZXN1bHR9IFtyZXN1bHQgPSBudWxsXSBBIFJlc3VsdCBvYmplY3Qgb24gd2hpY2ggdG8gc3RvcmUgaW5mb3JtYXRpb24gYWJvdXQgdGhlIGNvbGxpc2lvblxuICogQHJldHVybnMge0Jvb2xlYW59XG4gKi9cbmZ1bmN0aW9uIHBvbHlnb25Qb2x5Z29uKGEsIGIsIHJlc3VsdCA9IG51bGwpIHtcblx0Y29uc3QgYV9jb3VudCA9IGEuX2Nvb3Jkcy5sZW5ndGg7XG5cdGNvbnN0IGJfY291bnQgPSBiLl9jb29yZHMubGVuZ3RoO1xuXG5cdC8vIEhhbmRsZSBwb2ludHMgc3BlY2lhbGx5XG5cdGlmKGFfY291bnQgPT09IDIgJiYgYl9jb3VudCA9PT0gMikge1xuXHRcdGNvbnN0IGFfY29vcmRzID0gYS5fY29vcmRzO1xuXHRcdGNvbnN0IGJfY29vcmRzID0gYi5fY29vcmRzO1xuXG5cdFx0aWYocmVzdWx0KSB7XG5cdFx0XHRyZXN1bHQub3ZlcmxhcCA9IDA7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGFfY29vcmRzWzBdID09PSBiX2Nvb3Jkc1swXSAmJiBhX2Nvb3Jkc1sxXSA9PT0gYl9jb29yZHNbMV07XG5cdH1cblxuXHRjb25zdCBhX2Nvb3JkcyAgPSBhLl9jb29yZHM7XG5cdGNvbnN0IGJfY29vcmRzICA9IGIuX2Nvb3Jkcztcblx0Y29uc3QgYV9ub3JtYWxzID0gYS5fbm9ybWFscztcblx0Y29uc3QgYl9ub3JtYWxzID0gYi5fbm9ybWFscztcblxuXHRpZihhX2NvdW50ID4gMikge1xuXHRcdGZvcihsZXQgaXggPSAwLCBpeSA9IDE7IGl4IDwgYV9jb3VudDsgaXggKz0gMiwgaXkgKz0gMikge1xuXHRcdFx0aWYoc2VwYXJhdGluZ0F4aXMoYV9jb29yZHMsIGJfY29vcmRzLCBhX25vcm1hbHNbaXhdLCBhX25vcm1hbHNbaXldLCByZXN1bHQpKSB7XG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRpZihiX2NvdW50ID4gMikge1xuXHRcdGZvcihsZXQgaXggPSAwLCBpeSA9IDE7IGl4IDwgYl9jb3VudDsgaXggKz0gMiwgaXkgKz0gMikge1xuXHRcdFx0aWYoc2VwYXJhdGluZ0F4aXMoYV9jb29yZHMsIGJfY29vcmRzLCBiX25vcm1hbHNbaXhdLCBiX25vcm1hbHNbaXldLCByZXN1bHQpKSB7XG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gdHJ1ZTtcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmVzIGlmIGEgcG9seWdvbiBhbmQgYSBjaXJjbGUgYXJlIGNvbGxpZGluZ1xuICogQHBhcmFtIHtQb2x5Z29ufSBhIFRoZSBzb3VyY2UgcG9seWdvbiB0byB0ZXN0XG4gKiBAcGFyYW0ge0NpcmNsZX0gYiBUaGUgdGFyZ2V0IGNpcmNsZSB0byB0ZXN0IGFnYWluc3RcbiAqIEBwYXJhbSB7UmVzdWx0fSBbcmVzdWx0ID0gbnVsbF0gQSBSZXN1bHQgb2JqZWN0IG9uIHdoaWNoIHRvIHN0b3JlIGluZm9ybWF0aW9uIGFib3V0IHRoZSBjb2xsaXNpb25cbiAqIEBwYXJhbSB7Qm9vbGVhbn0gW3JldmVyc2UgPSBmYWxzZV0gU2V0IHRvIHRydWUgdG8gcmV2ZXJzZSBhIGFuZCBiIGluIHRoZSByZXN1bHQgcGFyYW1ldGVyIHdoZW4gdGVzdGluZyBjaXJjbGUtPnBvbHlnb24gaW5zdGVhZCBvZiBwb2x5Z29uLT5jaXJjbGVcbiAqIEByZXR1cm5zIHtCb29sZWFufVxuICovXG5mdW5jdGlvbiBwb2x5Z29uQ2lyY2xlKGEsIGIsIHJlc3VsdCA9IG51bGwsIHJldmVyc2UgPSBmYWxzZSkge1xuXHRjb25zdCBhX2Nvb3JkcyAgICAgICA9IGEuX2Nvb3Jkcztcblx0Y29uc3QgYV9lZGdlcyAgICAgICAgPSBhLl9lZGdlcztcblx0Y29uc3QgYV9ub3JtYWxzICAgICAgPSBhLl9ub3JtYWxzO1xuXHRjb25zdCBiX3ggICAgICAgICAgICA9IGIueDtcblx0Y29uc3QgYl95ICAgICAgICAgICAgPSBiLnk7XG5cdGNvbnN0IGJfcmFkaXVzICAgICAgID0gYi5yYWRpdXMgKiBiLnNjYWxlO1xuXHRjb25zdCBiX3JhZGl1czIgICAgICA9IGJfcmFkaXVzICogMjtcblx0Y29uc3QgcmFkaXVzX3NxdWFyZWQgPSBiX3JhZGl1cyAqIGJfcmFkaXVzO1xuXHRjb25zdCBjb3VudCAgICAgICAgICA9IGFfY29vcmRzLmxlbmd0aDtcblxuXHRsZXQgYV9pbl9iICAgID0gdHJ1ZTtcblx0bGV0IGJfaW5fYSAgICA9IHRydWU7XG5cdGxldCBvdmVybGFwICAgPSBudWxsO1xuXHRsZXQgb3ZlcmxhcF94ID0gMDtcblx0bGV0IG92ZXJsYXBfeSA9IDA7XG5cblx0Ly8gSGFuZGxlIHBvaW50cyBzcGVjaWFsbHlcblx0aWYoY291bnQgPT09IDIpIHtcblx0XHRjb25zdCBjb29yZF94ICAgICAgICA9IGJfeCAtIGFfY29vcmRzWzBdO1xuXHRcdGNvbnN0IGNvb3JkX3kgICAgICAgID0gYl95IC0gYV9jb29yZHNbMV07XG5cdFx0Y29uc3QgbGVuZ3RoX3NxdWFyZWQgPSBjb29yZF94ICogY29vcmRfeCArIGNvb3JkX3kgKiBjb29yZF95O1xuXG5cdFx0aWYobGVuZ3RoX3NxdWFyZWQgPiByYWRpdXNfc3F1YXJlZCkge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblxuXHRcdGlmKHJlc3VsdCkge1xuXHRcdFx0Y29uc3QgbGVuZ3RoID0gTWF0aC5zcXJ0KGxlbmd0aF9zcXVhcmVkKTtcblxuXHRcdFx0b3ZlcmxhcCAgID0gYl9yYWRpdXMgLSBsZW5ndGg7XG5cdFx0XHRvdmVybGFwX3ggPSBjb29yZF94IC8gbGVuZ3RoO1xuXHRcdFx0b3ZlcmxhcF95ID0gY29vcmRfeSAvIGxlbmd0aDtcblx0XHRcdGJfaW5fYSAgICA9IGZhbHNlO1xuXHRcdH1cblx0fVxuXHRlbHNlIHtcblx0XHRmb3IobGV0IGl4ID0gMCwgaXkgPSAxOyBpeCA8IGNvdW50OyBpeCArPSAyLCBpeSArPSAyKSB7XG5cdFx0XHRjb25zdCBjb29yZF94ID0gYl94IC0gYV9jb29yZHNbaXhdO1xuXHRcdFx0Y29uc3QgY29vcmRfeSA9IGJfeSAtIGFfY29vcmRzW2l5XTtcblx0XHRcdGNvbnN0IGVkZ2VfeCAgPSBhX2VkZ2VzW2l4XTtcblx0XHRcdGNvbnN0IGVkZ2VfeSAgPSBhX2VkZ2VzW2l5XTtcblx0XHRcdGNvbnN0IGRvdCAgICAgPSBjb29yZF94ICogZWRnZV94ICsgY29vcmRfeSAqIGVkZ2VfeTtcblx0XHRcdGNvbnN0IHJlZ2lvbiAgPSBkb3QgPCAwID8gLTEgOiBkb3QgPiBlZGdlX3ggKiBlZGdlX3ggKyBlZGdlX3kgKiBlZGdlX3kgPyAxIDogMDtcblxuXHRcdFx0bGV0IHRtcF9vdmVybGFwcGluZyA9IGZhbHNlO1xuXHRcdFx0bGV0IHRtcF9vdmVybGFwICAgICA9IDA7XG5cdFx0XHRsZXQgdG1wX292ZXJsYXBfeCAgID0gMDtcblx0XHRcdGxldCB0bXBfb3ZlcmxhcF95ICAgPSAwO1xuXG5cdFx0XHRpZihyZXN1bHQgJiYgYV9pbl9iICYmIGNvb3JkX3ggKiBjb29yZF94ICsgY29vcmRfeSAqIGNvb3JkX3kgPiByYWRpdXNfc3F1YXJlZCkge1xuXHRcdFx0XHRhX2luX2IgPSBmYWxzZTtcblx0XHRcdH1cblxuXHRcdFx0aWYocmVnaW9uKSB7XG5cdFx0XHRcdGNvbnN0IGxlZnQgICAgID0gcmVnaW9uID09PSAtMTtcblx0XHRcdFx0Y29uc3Qgb3RoZXJfeCAgPSBsZWZ0ID8gKGl4ID09PSAwID8gY291bnQgLSAyIDogaXggLSAyKSA6IChpeCA9PT0gY291bnQgLSAyID8gMCA6IGl4ICsgMik7XG5cdFx0XHRcdGNvbnN0IG90aGVyX3kgID0gb3RoZXJfeCArIDE7XG5cdFx0XHRcdGNvbnN0IGNvb3JkMl94ID0gYl94IC0gYV9jb29yZHNbb3RoZXJfeF07XG5cdFx0XHRcdGNvbnN0IGNvb3JkMl95ID0gYl95IC0gYV9jb29yZHNbb3RoZXJfeV07XG5cdFx0XHRcdGNvbnN0IGVkZ2UyX3ggID0gYV9lZGdlc1tvdGhlcl94XTtcblx0XHRcdFx0Y29uc3QgZWRnZTJfeSAgPSBhX2VkZ2VzW290aGVyX3ldO1xuXHRcdFx0XHRjb25zdCBkb3QyICAgICA9IGNvb3JkMl94ICogZWRnZTJfeCArIGNvb3JkMl95ICogZWRnZTJfeTtcblx0XHRcdFx0Y29uc3QgcmVnaW9uMiAgPSBkb3QyIDwgMCA/IC0xIDogZG90MiA+IGVkZ2UyX3ggKiBlZGdlMl94ICsgZWRnZTJfeSAqIGVkZ2UyX3kgPyAxIDogMDtcblxuXHRcdFx0XHRpZihyZWdpb24yID09PSAtcmVnaW9uKSB7XG5cdFx0XHRcdFx0Y29uc3QgdGFyZ2V0X3ggICAgICAgPSBsZWZ0ID8gY29vcmRfeCA6IGNvb3JkMl94O1xuXHRcdFx0XHRcdGNvbnN0IHRhcmdldF95ICAgICAgID0gbGVmdCA/IGNvb3JkX3kgOiBjb29yZDJfeTtcblx0XHRcdFx0XHRjb25zdCBsZW5ndGhfc3F1YXJlZCA9IHRhcmdldF94ICogdGFyZ2V0X3ggKyB0YXJnZXRfeSAqIHRhcmdldF95O1xuXG5cdFx0XHRcdFx0aWYobGVuZ3RoX3NxdWFyZWQgPiByYWRpdXNfc3F1YXJlZCkge1xuXHRcdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGlmKHJlc3VsdCkge1xuXHRcdFx0XHRcdFx0Y29uc3QgbGVuZ3RoID0gTWF0aC5zcXJ0KGxlbmd0aF9zcXVhcmVkKTtcblxuXHRcdFx0XHRcdFx0dG1wX292ZXJsYXBwaW5nID0gdHJ1ZTtcblx0XHRcdFx0XHRcdHRtcF9vdmVybGFwICAgICA9IGJfcmFkaXVzIC0gbGVuZ3RoO1xuXHRcdFx0XHRcdFx0dG1wX292ZXJsYXBfeCAgID0gdGFyZ2V0X3ggLyBsZW5ndGg7XG5cdFx0XHRcdFx0XHR0bXBfb3ZlcmxhcF95ICAgPSB0YXJnZXRfeSAvIGxlbmd0aDtcblx0XHRcdFx0XHRcdGJfaW5fYSAgICAgICAgICA9IGZhbHNlO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0ZWxzZSB7XG5cdFx0XHRcdGNvbnN0IG5vcm1hbF94ICAgICAgICA9IGFfbm9ybWFsc1tpeF07XG5cdFx0XHRcdGNvbnN0IG5vcm1hbF95ICAgICAgICA9IGFfbm9ybWFsc1tpeV07XG5cdFx0XHRcdGNvbnN0IGxlbmd0aCAgICAgICAgICA9IGNvb3JkX3ggKiBub3JtYWxfeCArIGNvb3JkX3kgKiBub3JtYWxfeTtcblx0XHRcdFx0Y29uc3QgYWJzb2x1dGVfbGVuZ3RoID0gbGVuZ3RoIDwgMCA/IC1sZW5ndGggOiBsZW5ndGg7XG5cblx0XHRcdFx0aWYobGVuZ3RoID4gMCAmJiBhYnNvbHV0ZV9sZW5ndGggPiBiX3JhZGl1cykge1xuXHRcdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmKHJlc3VsdCkge1xuXHRcdFx0XHRcdHRtcF9vdmVybGFwcGluZyA9IHRydWU7XG5cdFx0XHRcdFx0dG1wX292ZXJsYXAgICAgID0gYl9yYWRpdXMgLSBsZW5ndGg7XG5cdFx0XHRcdFx0dG1wX292ZXJsYXBfeCAgID0gbm9ybWFsX3g7XG5cdFx0XHRcdFx0dG1wX292ZXJsYXBfeSAgID0gbm9ybWFsX3k7XG5cblx0XHRcdFx0XHRpZihiX2luX2EgJiYgbGVuZ3RoID49IDAgfHwgdG1wX292ZXJsYXAgPCBiX3JhZGl1czIpIHtcblx0XHRcdFx0XHRcdGJfaW5fYSA9IGZhbHNlO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHRpZih0bXBfb3ZlcmxhcHBpbmcgJiYgKG92ZXJsYXAgPT09IG51bGwgfHwgb3ZlcmxhcCA+IHRtcF9vdmVybGFwKSkge1xuXHRcdFx0XHRvdmVybGFwICAgPSB0bXBfb3ZlcmxhcDtcblx0XHRcdFx0b3ZlcmxhcF94ID0gdG1wX292ZXJsYXBfeDtcblx0XHRcdFx0b3ZlcmxhcF95ID0gdG1wX292ZXJsYXBfeTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRpZihyZXN1bHQpIHtcblx0XHRyZXN1bHQuYV9pbl9iICAgID0gcmV2ZXJzZSA/IGJfaW5fYSA6IGFfaW5fYjtcblx0XHRyZXN1bHQuYl9pbl9hICAgID0gcmV2ZXJzZSA/IGFfaW5fYiA6IGJfaW5fYTtcblx0XHRyZXN1bHQub3ZlcmxhcCAgID0gb3ZlcmxhcDtcblx0XHRyZXN1bHQub3ZlcmxhcF94ID0gcmV2ZXJzZSA/IC1vdmVybGFwX3ggOiBvdmVybGFwX3g7XG5cdFx0cmVzdWx0Lm92ZXJsYXBfeSA9IHJldmVyc2UgPyAtb3ZlcmxhcF95IDogb3ZlcmxhcF95O1xuXHR9XG5cblx0cmV0dXJuIHRydWU7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lcyBpZiB0d28gY2lyY2xlcyBhcmUgY29sbGlkaW5nXG4gKiBAcGFyYW0ge0NpcmNsZX0gYSBUaGUgc291cmNlIGNpcmNsZSB0byB0ZXN0XG4gKiBAcGFyYW0ge0NpcmNsZX0gYiBUaGUgdGFyZ2V0IGNpcmNsZSB0byB0ZXN0IGFnYWluc3RcbiAqIEBwYXJhbSB7UmVzdWx0fSBbcmVzdWx0ID0gbnVsbF0gQSBSZXN1bHQgb2JqZWN0IG9uIHdoaWNoIHRvIHN0b3JlIGluZm9ybWF0aW9uIGFib3V0IHRoZSBjb2xsaXNpb25cbiAqIEByZXR1cm5zIHtCb29sZWFufVxuICovXG5mdW5jdGlvbiBjaXJjbGVDaXJjbGUoYSwgYiwgcmVzdWx0ID0gbnVsbCkge1xuXHRjb25zdCBhX3JhZGl1cyAgICAgICA9IGEucmFkaXVzICogYS5zY2FsZTtcblx0Y29uc3QgYl9yYWRpdXMgICAgICAgPSBiLnJhZGl1cyAqIGIuc2NhbGU7XG5cdGNvbnN0IGRpZmZlcmVuY2VfeCAgID0gYi54IC0gYS54O1xuXHRjb25zdCBkaWZmZXJlbmNlX3kgICA9IGIueSAtIGEueTtcblx0Y29uc3QgcmFkaXVzX3N1bSAgICAgPSBhX3JhZGl1cyArIGJfcmFkaXVzO1xuXHRjb25zdCBsZW5ndGhfc3F1YXJlZCA9IGRpZmZlcmVuY2VfeCAqIGRpZmZlcmVuY2VfeCArIGRpZmZlcmVuY2VfeSAqIGRpZmZlcmVuY2VfeTtcblxuXHRpZihsZW5ndGhfc3F1YXJlZCA+IHJhZGl1c19zdW0gKiByYWRpdXNfc3VtKSB7XG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9XG5cblx0aWYocmVzdWx0KSB7XG5cdFx0Y29uc3QgbGVuZ3RoID0gTWF0aC5zcXJ0KGxlbmd0aF9zcXVhcmVkKTtcblxuXHRcdHJlc3VsdC5hX2luX2IgICAgPSBhX3JhZGl1cyA8PSBiX3JhZGl1cyAmJiBsZW5ndGggPD0gYl9yYWRpdXMgLSBhX3JhZGl1cztcblx0XHRyZXN1bHQuYl9pbl9hICAgID0gYl9yYWRpdXMgPD0gYV9yYWRpdXMgJiYgbGVuZ3RoIDw9IGFfcmFkaXVzIC0gYl9yYWRpdXM7XG5cdFx0cmVzdWx0Lm92ZXJsYXAgICA9IHJhZGl1c19zdW0gLSBsZW5ndGg7XG5cdFx0cmVzdWx0Lm92ZXJsYXBfeCA9IGRpZmZlcmVuY2VfeCAvIGxlbmd0aDtcblx0XHRyZXN1bHQub3ZlcmxhcF95ID0gZGlmZmVyZW5jZV95IC8gbGVuZ3RoO1xuXHR9XG5cblx0cmV0dXJuIHRydWU7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lcyBpZiB0d28gcG9seWdvbnMgYXJlIHNlcGFyYXRlZCBieSBhbiBheGlzXG4gKiBAcGFyYW0ge0FycmF5PE51bWJlcltdPn0gYV9jb29yZHMgVGhlIGNvb3JkaW5hdGVzIG9mIHRoZSBwb2x5Z29uIHRvIHRlc3RcbiAqIEBwYXJhbSB7QXJyYXk8TnVtYmVyW10+fSBiX2Nvb3JkcyBUaGUgY29vcmRpbmF0ZXMgb2YgdGhlIHBvbHlnb24gdG8gdGVzdCBhZ2FpbnN0XG4gKiBAcGFyYW0ge051bWJlcn0geCBUaGUgWCBkaXJlY3Rpb24gb2YgdGhlIGF4aXNcbiAqIEBwYXJhbSB7TnVtYmVyfSB5IFRoZSBZIGRpcmVjdGlvbiBvZiB0aGUgYXhpc1xuICogQHBhcmFtIHtSZXN1bHR9IFtyZXN1bHQgPSBudWxsXSBBIFJlc3VsdCBvYmplY3Qgb24gd2hpY2ggdG8gc3RvcmUgaW5mb3JtYXRpb24gYWJvdXQgdGhlIGNvbGxpc2lvblxuICogQHJldHVybnMge0Jvb2xlYW59XG4gKi9cbmZ1bmN0aW9uIHNlcGFyYXRpbmdBeGlzKGFfY29vcmRzLCBiX2Nvb3JkcywgeCwgeSwgcmVzdWx0ID0gbnVsbCkge1xuXHRjb25zdCBhX2NvdW50ID0gYV9jb29yZHMubGVuZ3RoO1xuXHRjb25zdCBiX2NvdW50ID0gYl9jb29yZHMubGVuZ3RoO1xuXG5cdGlmKCFhX2NvdW50IHx8ICFiX2NvdW50KSB7XG5cdFx0cmV0dXJuIHRydWU7XG5cdH1cblxuXHRsZXQgYV9zdGFydCA9IG51bGw7XG5cdGxldCBhX2VuZCAgID0gbnVsbDtcblx0bGV0IGJfc3RhcnQgPSBudWxsO1xuXHRsZXQgYl9lbmQgICA9IG51bGw7XG5cblx0Zm9yKGxldCBpeCA9IDAsIGl5ID0gMTsgaXggPCBhX2NvdW50OyBpeCArPSAyLCBpeSArPSAyKSB7XG5cdFx0Y29uc3QgZG90ID0gYV9jb29yZHNbaXhdICogeCArIGFfY29vcmRzW2l5XSAqIHk7XG5cblx0XHRpZihhX3N0YXJ0ID09PSBudWxsIHx8IGFfc3RhcnQgPiBkb3QpIHtcblx0XHRcdGFfc3RhcnQgPSBkb3Q7XG5cdFx0fVxuXG5cdFx0aWYoYV9lbmQgPT09IG51bGwgfHwgYV9lbmQgPCBkb3QpIHtcblx0XHRcdGFfZW5kID0gZG90O1xuXHRcdH1cblx0fVxuXG5cdGZvcihsZXQgaXggPSAwLCBpeSA9IDE7IGl4IDwgYl9jb3VudDsgaXggKz0gMiwgaXkgKz0gMikge1xuXHRcdGNvbnN0IGRvdCA9IGJfY29vcmRzW2l4XSAqIHggKyBiX2Nvb3Jkc1tpeV0gKiB5O1xuXG5cdFx0aWYoYl9zdGFydCA9PT0gbnVsbCB8fCBiX3N0YXJ0ID4gZG90KSB7XG5cdFx0XHRiX3N0YXJ0ID0gZG90O1xuXHRcdH1cblxuXHRcdGlmKGJfZW5kID09PSBudWxsIHx8IGJfZW5kIDwgZG90KSB7XG5cdFx0XHRiX2VuZCA9IGRvdDtcblx0XHR9XG5cdH1cblxuXHRpZihhX3N0YXJ0ID4gYl9lbmQgfHwgYV9lbmQgPCBiX3N0YXJ0KSB7XG5cdFx0cmV0dXJuIHRydWU7XG5cdH1cblxuXHRpZihyZXN1bHQpIHtcblx0XHRsZXQgb3ZlcmxhcCA9IDA7XG5cblx0XHRpZihhX3N0YXJ0IDwgYl9zdGFydCkge1xuXHRcdFx0cmVzdWx0LmFfaW5fYiA9IGZhbHNlO1xuXG5cdFx0XHRpZihhX2VuZCA8IGJfZW5kKSB7XG5cdFx0XHRcdG92ZXJsYXAgICAgICAgPSBhX2VuZCAtIGJfc3RhcnQ7XG5cdFx0XHRcdHJlc3VsdC5iX2luX2EgPSBmYWxzZTtcblx0XHRcdH1cblx0XHRcdGVsc2Uge1xuXHRcdFx0XHRjb25zdCBvcHRpb24xID0gYV9lbmQgLSBiX3N0YXJ0O1xuXHRcdFx0XHRjb25zdCBvcHRpb24yID0gYl9lbmQgLSBhX3N0YXJ0O1xuXG5cdFx0XHRcdG92ZXJsYXAgPSBvcHRpb24xIDwgb3B0aW9uMiA/IG9wdGlvbjEgOiAtb3B0aW9uMjtcblx0XHRcdH1cblx0XHR9XG5cdFx0ZWxzZSB7XG5cdFx0XHRyZXN1bHQuYl9pbl9hID0gZmFsc2U7XG5cblx0XHRcdGlmKGFfZW5kID4gYl9lbmQpIHtcblx0XHRcdFx0b3ZlcmxhcCAgICAgICA9IGFfc3RhcnQgLSBiX2VuZDtcblx0XHRcdFx0cmVzdWx0LmFfaW5fYiA9IGZhbHNlO1xuXHRcdFx0fVxuXHRcdFx0ZWxzZSB7XG5cdFx0XHRcdGNvbnN0IG9wdGlvbjEgPSBhX2VuZCAtIGJfc3RhcnQ7XG5cdFx0XHRcdGNvbnN0IG9wdGlvbjIgPSBiX2VuZCAtIGFfc3RhcnQ7XG5cblx0XHRcdFx0b3ZlcmxhcCA9IG9wdGlvbjEgPCBvcHRpb24yID8gb3B0aW9uMSA6IC1vcHRpb24yO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGNvbnN0IGN1cnJlbnRfb3ZlcmxhcCAgPSByZXN1bHQub3ZlcmxhcDtcblx0XHRjb25zdCBhYnNvbHV0ZV9vdmVybGFwID0gb3ZlcmxhcCA8IDAgPyAtb3ZlcmxhcCA6IG92ZXJsYXA7XG5cblx0XHRpZihjdXJyZW50X292ZXJsYXAgPT09IG51bGwgfHwgY3VycmVudF9vdmVybGFwID4gYWJzb2x1dGVfb3ZlcmxhcCkge1xuXHRcdFx0Y29uc3Qgc2lnbiA9IG92ZXJsYXAgPCAwID8gLTEgOiAxO1xuXG5cdFx0XHRyZXN1bHQub3ZlcmxhcCAgID0gYWJzb2x1dGVfb3ZlcmxhcDtcblx0XHRcdHJlc3VsdC5vdmVybGFwX3ggPSB4ICogc2lnbjtcblx0XHRcdHJlc3VsdC5vdmVybGFwX3kgPSB5ICogc2lnbjtcblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gZmFsc2U7XG59XG4iLCJpbXBvcnQgUmVzdWx0IGZyb20gJy4vUmVzdWx0Lm1qcyc7XG5pbXBvcnQgU0FUICAgIGZyb20gJy4vU0FULm1qcyc7XG5cbi8qKlxuICogVGhlIGJhc2UgY2xhc3MgZm9yIGJvZGllcyB1c2VkIHRvIGRldGVjdCBjb2xsaXNpb25zXG4gKiBAY2xhc3NcbiAqIEBwcm90ZWN0ZWRcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQm9keSB7XG5cdC8qKlxuXHQgKiBAY29uc3RydWN0b3Jcblx0ICogQHBhcmFtIHtOdW1iZXJ9IFt4ID0gMF0gVGhlIHN0YXJ0aW5nIFggY29vcmRpbmF0ZVxuXHQgKiBAcGFyYW0ge051bWJlcn0gW3kgPSAwXSBUaGUgc3RhcnRpbmcgWSBjb29yZGluYXRlXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSBbcGFkZGluZyA9IDBdIFRoZSBhbW91bnQgdG8gcGFkIHRoZSBib3VuZGluZyB2b2x1bWUgd2hlbiB0ZXN0aW5nIGZvciBwb3RlbnRpYWwgY29sbGlzaW9uc1xuXHQgKi9cblx0Y29uc3RydWN0b3IoeCA9IDAsIHkgPSAwLCBwYWRkaW5nID0gMCkge1xuXHRcdC8qKlxuXHRcdCAqIEBkZXNjIFRoZSBYIGNvb3JkaW5hdGUgb2YgdGhlIGJvZHlcblx0XHQgKiBAdHlwZSB7TnVtYmVyfVxuXHRcdCAqL1xuXHRcdHRoaXMueCA9IHg7XG5cblx0XHQvKipcblx0XHQgKiBAZGVzYyBUaGUgWSBjb29yZGluYXRlIG9mIHRoZSBib2R5XG5cdFx0ICogQHR5cGUge051bWJlcn1cblx0XHQgKi9cblx0XHR0aGlzLnkgPSB5O1xuXG5cdFx0LyoqXG5cdFx0ICogQGRlc2MgVGhlIGFtb3VudCB0byBwYWQgdGhlIGJvdW5kaW5nIHZvbHVtZSB3aGVuIHRlc3RpbmcgZm9yIHBvdGVudGlhbCBjb2xsaXNpb25zXG5cdFx0ICogQHR5cGUge051bWJlcn1cblx0XHQgKi9cblx0XHR0aGlzLnBhZGRpbmcgPSBwYWRkaW5nO1xuXG5cdFx0LyoqIEBwcml2YXRlICovXG5cdFx0dGhpcy5fY2lyY2xlID0gZmFsc2U7XG5cblx0XHQvKiogQHByaXZhdGUgKi9cblx0XHR0aGlzLl9wb2x5Z29uID0gZmFsc2U7XG5cblx0XHQvKiogQHByaXZhdGUgKi9cblx0XHR0aGlzLl9wb2ludCA9IGZhbHNlO1xuXG5cdFx0LyoqIEBwcml2YXRlICovXG5cdFx0dGhpcy5fYnZoID0gbnVsbDtcblxuXHRcdC8qKiBAcHJpdmF0ZSAqL1xuXHRcdHRoaXMuX2J2aF9wYXJlbnQgPSBudWxsO1xuXG5cdFx0LyoqIEBwcml2YXRlICovXG5cdFx0dGhpcy5fYnZoX2JyYW5jaCA9IGZhbHNlO1xuXG5cdFx0LyoqIEBwcml2YXRlICovXG5cdFx0dGhpcy5fYnZoX3BhZGRpbmcgPSBwYWRkaW5nO1xuXG5cdFx0LyoqIEBwcml2YXRlICovXG5cdFx0dGhpcy5fYnZoX21pbl94ID0gMDtcblxuXHRcdC8qKiBAcHJpdmF0ZSAqL1xuXHRcdHRoaXMuX2J2aF9taW5feSA9IDA7XG5cblx0XHQvKiogQHByaXZhdGUgKi9cblx0XHR0aGlzLl9idmhfbWF4X3ggPSAwO1xuXG5cdFx0LyoqIEBwcml2YXRlICovXG5cdFx0dGhpcy5fYnZoX21heF95ID0gMDtcblx0fVxuXG5cdC8qKlxuXHQgKiBEZXRlcm1pbmVzIGlmIHRoZSBib2R5IGlzIGNvbGxpZGluZyB3aXRoIGFub3RoZXIgYm9keVxuXHQgKiBAcGFyYW0ge0NpcmNsZXxQb2x5Z29ufFBvaW50fSB0YXJnZXQgVGhlIHRhcmdldCBib2R5IHRvIHRlc3QgYWdhaW5zdFxuXHQgKiBAcGFyYW0ge1Jlc3VsdH0gW3Jlc3VsdCA9IG51bGxdIEEgUmVzdWx0IG9iamVjdCBvbiB3aGljaCB0byBzdG9yZSBpbmZvcm1hdGlvbiBhYm91dCB0aGUgY29sbGlzaW9uXG5cdCAqIEBwYXJhbSB7Qm9vbGVhbn0gW2FhYmIgPSB0cnVlXSBTZXQgdG8gZmFsc2UgdG8gc2tpcCB0aGUgQUFCQiB0ZXN0ICh1c2VmdWwgaWYgeW91IHVzZSB5b3VyIG93biBwb3RlbnRpYWwgY29sbGlzaW9uIGhldXJpc3RpYylcblx0ICogQHJldHVybnMge0Jvb2xlYW59XG5cdCAqL1xuXHRjb2xsaWRlcyh0YXJnZXQsIHJlc3VsdCA9IG51bGwsIGFhYmIgPSB0cnVlKSB7XG5cdFx0cmV0dXJuIFNBVCh0aGlzLCB0YXJnZXQsIHJlc3VsdCwgYWFiYik7XG5cdH1cblxuXHQvKipcblx0ICogUmV0dXJucyBhIGxpc3Qgb2YgcG90ZW50aWFsIGNvbGxpc2lvbnNcblx0ICogQHJldHVybnMge0FycmF5PEJvZHk+fVxuXHQgKi9cblx0cG90ZW50aWFscygpIHtcblx0XHRjb25zdCBidmggPSB0aGlzLl9idmg7XG5cblx0XHRpZihidmggPT09IG51bGwpIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcignQm9keSBkb2VzIG5vdCBiZWxvbmcgdG8gYSBjb2xsaXNpb24gc3lzdGVtJyk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGJ2aC5wb3RlbnRpYWxzKHRoaXMpO1xuXHR9XG5cblx0LyoqXG5cdCAqIFJlbW92ZXMgdGhlIGJvZHkgZnJvbSBpdHMgY3VycmVudCBjb2xsaXNpb24gc3lzdGVtXG5cdCAqL1xuXHRyZW1vdmUoKSB7XG5cdFx0Y29uc3QgYnZoID0gdGhpcy5fYnZoO1xuXG5cdFx0aWYoYnZoKSB7XG5cdFx0XHRidmgucmVtb3ZlKHRoaXMsIGZhbHNlKTtcblx0XHR9XG5cdH1cblxuXHQvKipcblx0ICogQ3JlYXRlcyBhIHtAbGluayBSZXN1bHR9IHVzZWQgdG8gY29sbGVjdCB0aGUgZGV0YWlsZWQgcmVzdWx0cyBvZiBhIGNvbGxpc2lvbiB0ZXN0XG5cdCAqL1xuXHRjcmVhdGVSZXN1bHQoKSB7XG5cdFx0cmV0dXJuIG5ldyBSZXN1bHQoKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBDcmVhdGVzIGEgUmVzdWx0IHVzZWQgdG8gY29sbGVjdCB0aGUgZGV0YWlsZWQgcmVzdWx0cyBvZiBhIGNvbGxpc2lvbiB0ZXN0XG5cdCAqL1xuXHRzdGF0aWMgY3JlYXRlUmVzdWx0KCkge1xuXHRcdHJldHVybiBuZXcgUmVzdWx0KCk7XG5cdH1cbn07XG4iLCJpbXBvcnQgQm9keSBmcm9tICcuL0JvZHkubWpzJztcblxuLyoqXG4gKiBBIGNpcmNsZSB1c2VkIHRvIGRldGVjdCBjb2xsaXNpb25zXG4gKiBAY2xhc3NcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2lyY2xlIGV4dGVuZHMgQm9keSB7XG5cdC8qKlxuXHQgKiBAY29uc3RydWN0b3Jcblx0ICogQHBhcmFtIHtOdW1iZXJ9IFt4ID0gMF0gVGhlIHN0YXJ0aW5nIFggY29vcmRpbmF0ZVxuXHQgKiBAcGFyYW0ge051bWJlcn0gW3kgPSAwXSBUaGUgc3RhcnRpbmcgWSBjb29yZGluYXRlXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSBbcmFkaXVzID0gMF0gVGhlIHJhZGl1c1xuXHQgKiBAcGFyYW0ge051bWJlcn0gW3NjYWxlID0gMV0gVGhlIHNjYWxlXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSBbcGFkZGluZyA9IDBdIFRoZSBhbW91bnQgdG8gcGFkIHRoZSBib3VuZGluZyB2b2x1bWUgd2hlbiB0ZXN0aW5nIGZvciBwb3RlbnRpYWwgY29sbGlzaW9uc1xuXHQgKi9cblx0Y29uc3RydWN0b3IoeCA9IDAsIHkgPSAwLCByYWRpdXMgPSAwLCBzY2FsZSA9IDEsIHBhZGRpbmcgPSAwKSB7XG5cdFx0c3VwZXIoeCwgeSwgcGFkZGluZyk7XG5cblx0XHQvKipcblx0XHQgKiBAZGVzY1xuXHRcdCAqIEB0eXBlIHtOdW1iZXJ9XG5cdFx0ICovXG5cdFx0dGhpcy5yYWRpdXMgPSByYWRpdXM7XG5cblx0XHQvKipcblx0XHQgKiBAZGVzY1xuXHRcdCAqIEB0eXBlIHtOdW1iZXJ9XG5cdFx0ICovXG5cdFx0dGhpcy5zY2FsZSA9IHNjYWxlO1xuXHR9XG5cblx0LyoqXG5cdCAqIERyYXdzIHRoZSBjaXJjbGUgdG8gYSBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQncyBjdXJyZW50IHBhdGhcblx0ICogQHBhcmFtIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9IGNvbnRleHQgVGhlIGNvbnRleHQgdG8gYWRkIHRoZSBhcmMgdG9cblx0ICovXG5cdGRyYXcoY29udGV4dCkge1xuXHRcdGNvbnN0IHggICAgICA9IHRoaXMueDtcblx0XHRjb25zdCB5ICAgICAgPSB0aGlzLnk7XG5cdFx0Y29uc3QgcmFkaXVzID0gdGhpcy5yYWRpdXMgKiB0aGlzLnNjYWxlO1xuXG5cdFx0Y29udGV4dC5tb3ZlVG8oeCArIHJhZGl1cywgeSk7XG5cdFx0Y29udGV4dC5hcmMoeCwgeSwgcmFkaXVzLCAwLCBNYXRoLlBJICogMik7XG5cdH1cbn07XG4iLCJpbXBvcnQgQm9keSBmcm9tICcuL0JvZHkubWpzJztcblxuLyoqXG4gKiBBIHBvbHlnb24gdXNlZCB0byBkZXRlY3QgY29sbGlzaW9uc1xuICogQGNsYXNzXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvbHlnb24gZXh0ZW5kcyBCb2R5IHtcblx0LyoqXG5cdCAqIEBjb25zdHJ1Y3RvclxuXHQgKiBAcGFyYW0ge051bWJlcn0gW3ggPSAwXSBUaGUgc3RhcnRpbmcgWCBjb29yZGluYXRlXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSBbeSA9IDBdIFRoZSBzdGFydGluZyBZIGNvb3JkaW5hdGVcblx0ICogQHBhcmFtIHtBcnJheTxOdW1iZXJbXT59IFtwb2ludHMgPSBbXV0gQW4gYXJyYXkgb2YgY29vcmRpbmF0ZSBwYWlycyBtYWtpbmcgdXAgdGhlIHBvbHlnb24gLSBbW3gxLCB5MV0sIFt4MiwgeTJdLCAuLi5dXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSBbYW5nbGUgPSAwXSBUaGUgc3RhcnRpbmcgcm90YXRpb24gaW4gcmFkaWFuc1xuXHQgKiBAcGFyYW0ge051bWJlcn0gW3NjYWxlX3ggPSAxXSBUaGUgc3RhcnRpbmcgc2NhbGUgYWxvbmcgdGhlIFggYXhpc1xuXHQgKiBAcGFyYW0ge051bWJlcn0gW3NjYWxlX3kgPSAxXSBUaGUgc3RhcnRpbmcgc2NhbGUgbG9uZyB0aGUgWSBheGlzXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSBbcGFkZGluZyA9IDBdIFRoZSBhbW91bnQgdG8gcGFkIHRoZSBib3VuZGluZyB2b2x1bWUgd2hlbiB0ZXN0aW5nIGZvciBwb3RlbnRpYWwgY29sbGlzaW9uc1xuXHQgKi9cblx0Y29uc3RydWN0b3IoeCA9IDAsIHkgPSAwLCBwb2ludHMgPSBbXSwgYW5nbGUgPSAwLCBzY2FsZV94ID0gMSwgc2NhbGVfeSA9IDEsIHBhZGRpbmcgPSAwKSB7XG5cdFx0c3VwZXIoeCwgeSwgcGFkZGluZyk7XG5cblx0XHQvKipcblx0XHQgKiBAZGVzYyBUaGUgYW5nbGUgb2YgdGhlIGJvZHkgaW4gcmFkaWFuc1xuXHRcdCAqIEB0eXBlIHtOdW1iZXJ9XG5cdFx0ICovXG5cdFx0dGhpcy5hbmdsZSA9IGFuZ2xlO1xuXG5cdFx0LyoqXG5cdFx0ICogQGRlc2MgVGhlIHNjYWxlIG9mIHRoZSBib2R5IGFsb25nIHRoZSBYIGF4aXNcblx0XHQgKiBAdHlwZSB7TnVtYmVyfVxuXHRcdCAqL1xuXHRcdHRoaXMuc2NhbGVfeCA9IHNjYWxlX3g7XG5cblx0XHQvKipcblx0XHQgKiBAZGVzYyBUaGUgc2NhbGUgb2YgdGhlIGJvZHkgYWxvbmcgdGhlIFkgYXhpc1xuXHRcdCAqIEB0eXBlIHtOdW1iZXJ9XG5cdFx0ICovXG5cdFx0dGhpcy5zY2FsZV95ID0gc2NhbGVfeTtcblxuXG5cdFx0LyoqIEBwcml2YXRlICovXG5cdFx0dGhpcy5fcG9seWdvbiA9IHRydWU7XG5cblx0XHQvKiogQHByaXZhdGUgKi9cblx0XHR0aGlzLl94ID0geDtcblxuXHRcdC8qKiBAcHJpdmF0ZSAqL1xuXHRcdHRoaXMuX3kgPSB5O1xuXG5cdFx0LyoqIEBwcml2YXRlICovXG5cdFx0dGhpcy5fYW5nbGUgPSBhbmdsZTtcblxuXHRcdC8qKiBAcHJpdmF0ZSAqL1xuXHRcdHRoaXMuX3NjYWxlX3ggPSBzY2FsZV94O1xuXG5cdFx0LyoqIEBwcml2YXRlICovXG5cdFx0dGhpcy5fc2NhbGVfeSA9IHNjYWxlX3k7XG5cblx0XHQvKiogQHByaXZhdGUgKi9cblx0XHR0aGlzLl9taW5feCA9IDA7XG5cblx0XHQvKiogQHByaXZhdGUgKi9cblx0XHR0aGlzLl9taW5feSA9IDA7XG5cblx0XHQvKiogQHByaXZhdGUgKi9cblx0XHR0aGlzLl9tYXhfeCA9IDA7XG5cblx0XHQvKiogQHByaXZhdGUgKi9cblx0XHR0aGlzLl9tYXhfeSA9IDA7XG5cblx0XHQvKiogQHByaXZhdGUgKi9cblx0XHR0aGlzLl9wb2ludHMgPSBudWxsO1xuXG5cdFx0LyoqIEBwcml2YXRlICovXG5cdFx0dGhpcy5fY29vcmRzID0gbnVsbDtcblxuXHRcdC8qKiBAcHJpdmF0ZSAqL1xuXHRcdHRoaXMuX2VkZ2VzID0gbnVsbDtcblxuXHRcdC8qKiBAcHJpdmF0ZSAqL1xuXHRcdHRoaXMuX25vcm1hbHMgPSBudWxsO1xuXG5cdFx0LyoqIEBwcml2YXRlICovXG5cdFx0dGhpcy5fZGlydHlfY29vcmRzID0gdHJ1ZTtcblxuXHRcdC8qKiBAcHJpdmF0ZSAqL1xuXHRcdHRoaXMuX2RpcnR5X25vcm1hbHMgPSB0cnVlO1xuXG5cdFx0UG9seWdvbi5wcm90b3R5cGUuc2V0UG9pbnRzLmNhbGwodGhpcywgcG9pbnRzKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBEcmF3cyB0aGUgcG9seWdvbiB0byBhIENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCdzIGN1cnJlbnQgcGF0aFxuXHQgKiBAcGFyYW0ge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH0gY29udGV4dCBUaGUgY29udGV4dCB0byBhZGQgdGhlIHNoYXBlIHRvXG5cdCAqL1xuXHRkcmF3KGNvbnRleHQpIHtcblx0XHRpZihcblx0XHRcdHRoaXMuX2RpcnR5X2Nvb3JkcyB8fFxuXHRcdFx0dGhpcy54ICAgICAgICE9PSB0aGlzLl94IHx8XG5cdFx0XHR0aGlzLnkgICAgICAgIT09IHRoaXMuX3kgfHxcblx0XHRcdHRoaXMuYW5nbGUgICAhPT0gdGhpcy5fYW5nbGUgfHxcblx0XHRcdHRoaXMuc2NhbGVfeCAhPT0gdGhpcy5fc2NhbGVfeCB8fFxuXHRcdFx0dGhpcy5zY2FsZV95ICE9PSB0aGlzLl9zY2FsZV95XG5cdFx0KSB7XG5cdFx0XHR0aGlzLl9jYWxjdWxhdGVDb29yZHMoKTtcblx0XHR9XG5cblx0XHRjb25zdCBjb29yZHMgPSB0aGlzLl9jb29yZHM7XG5cblx0XHRpZihjb29yZHMubGVuZ3RoID09PSAyKSB7XG5cdFx0XHRjb250ZXh0Lm1vdmVUbyhjb29yZHNbMF0sIGNvb3Jkc1sxXSk7XG5cdFx0XHRjb250ZXh0LmFyYyhjb29yZHNbMF0sIGNvb3Jkc1sxXSwgMSwgMCwgTWF0aC5QSSAqIDIpO1xuXHRcdH1cblx0XHRlbHNlIHtcblx0XHRcdGNvbnRleHQubW92ZVRvKGNvb3Jkc1swXSwgY29vcmRzWzFdKTtcblxuXHRcdFx0Zm9yKGxldCBpID0gMjsgaSA8IGNvb3Jkcy5sZW5ndGg7IGkgKz0gMikge1xuXHRcdFx0XHRjb250ZXh0LmxpbmVUbyhjb29yZHNbaV0sIGNvb3Jkc1tpICsgMV0pO1xuXHRcdFx0fVxuXG5cdFx0XHRpZihjb29yZHMubGVuZ3RoID4gNCkge1xuXHRcdFx0XHRjb250ZXh0LmxpbmVUbyhjb29yZHNbMF0sIGNvb3Jkc1sxXSk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdCAqIFNldHMgdGhlIHBvaW50cyBtYWtpbmcgdXAgdGhlIHBvbHlnb24uIEl0J3MgaW1wb3J0YW50IHRvIHVzZSB0aGlzIGZ1bmN0aW9uIHdoZW4gY2hhbmdpbmcgdGhlIHBvbHlnb24ncyBzaGFwZSB0byBlbnN1cmUgaW50ZXJuYWwgZGF0YSBpcyBhbHNvIHVwZGF0ZWQuXG5cdCAqIEBwYXJhbSB7QXJyYXk8TnVtYmVyW10+fSBuZXdfcG9pbnRzIEFuIGFycmF5IG9mIGNvb3JkaW5hdGUgcGFpcnMgbWFraW5nIHVwIHRoZSBwb2x5Z29uIC0gW1t4MSwgeTFdLCBbeDIsIHkyXSwgLi4uXVxuXHQgKi9cblx0c2V0UG9pbnRzKG5ld19wb2ludHMpIHtcblx0XHRjb25zdCBjb3VudCA9IG5ld19wb2ludHMubGVuZ3RoO1xuXG5cdFx0dGhpcy5fcG9pbnRzICA9IG5ldyBGbG9hdDY0QXJyYXkoY291bnQgKiAyKTtcblx0XHR0aGlzLl9jb29yZHMgID0gbmV3IEZsb2F0NjRBcnJheShjb3VudCAqIDIpO1xuXHRcdHRoaXMuX2VkZ2VzICAgPSBuZXcgRmxvYXQ2NEFycmF5KGNvdW50ICogMik7XG5cdFx0dGhpcy5fbm9ybWFscyA9IG5ldyBGbG9hdDY0QXJyYXkoY291bnQgKiAyKTtcblxuXHRcdGNvbnN0IHBvaW50cyA9IHRoaXMuX3BvaW50cztcblxuXHRcdGZvcihsZXQgaSA9IDAsIGl4ID0gMCwgaXkgPSAxOyBpIDwgY291bnQ7ICsraSwgaXggKz0gMiwgaXkgKz0gMikge1xuXHRcdFx0Y29uc3QgbmV3X3BvaW50ID0gbmV3X3BvaW50c1tpXTtcblxuXHRcdFx0cG9pbnRzW2l4XSA9IG5ld19wb2ludFswXTtcblx0XHRcdHBvaW50c1tpeV0gPSBuZXdfcG9pbnRbMV07XG5cdFx0fVxuXG5cdFx0dGhpcy5fZGlydHlfY29vcmRzID0gdHJ1ZTtcblx0fVxuXG5cdC8qKlxuXHQgKiBDYWxjdWxhdGVzIGFuZCBjYWNoZXMgdGhlIHBvbHlnb24ncyB3b3JsZCBjb29yZGluYXRlcyBiYXNlZCBvbiBpdHMgcG9pbnRzLCBhbmdsZSwgYW5kIHNjYWxlXG5cdCAqL1xuXHRfY2FsY3VsYXRlQ29vcmRzKCkge1xuXHRcdGNvbnN0IHggICAgICAgPSB0aGlzLng7XG5cdFx0Y29uc3QgeSAgICAgICA9IHRoaXMueTtcblx0XHRjb25zdCBhbmdsZSAgID0gdGhpcy5hbmdsZTtcblx0XHRjb25zdCBzY2FsZV94ID0gdGhpcy5zY2FsZV94O1xuXHRcdGNvbnN0IHNjYWxlX3kgPSB0aGlzLnNjYWxlX3k7XG5cdFx0Y29uc3QgcG9pbnRzICA9IHRoaXMuX3BvaW50cztcblx0XHRjb25zdCBjb29yZHMgID0gdGhpcy5fY29vcmRzO1xuXHRcdGNvbnN0IGNvdW50ICAgPSBwb2ludHMubGVuZ3RoO1xuXG5cdFx0bGV0IG1pbl94O1xuXHRcdGxldCBtYXhfeDtcblx0XHRsZXQgbWluX3k7XG5cdFx0bGV0IG1heF95O1xuXG5cdFx0Zm9yKGxldCBpeCA9IDAsIGl5ID0gMTsgaXggPCBjb3VudDsgaXggKz0gMiwgaXkgKz0gMikge1xuXHRcdFx0bGV0IGNvb3JkX3ggPSBwb2ludHNbaXhdICogc2NhbGVfeDtcblx0XHRcdGxldCBjb29yZF95ID0gcG9pbnRzW2l5XSAqIHNjYWxlX3k7XG5cblx0XHRcdGlmKGFuZ2xlKSB7XG5cdFx0XHRcdGNvbnN0IGNvcyAgID0gTWF0aC5jb3MoYW5nbGUpO1xuXHRcdFx0XHRjb25zdCBzaW4gICA9IE1hdGguc2luKGFuZ2xlKTtcblx0XHRcdFx0Y29uc3QgdG1wX3ggPSBjb29yZF94O1xuXHRcdFx0XHRjb25zdCB0bXBfeSA9IGNvb3JkX3k7XG5cblx0XHRcdFx0Y29vcmRfeCA9IHRtcF94ICogY29zIC0gdG1wX3kgKiBzaW47XG5cdFx0XHRcdGNvb3JkX3kgPSB0bXBfeCAqIHNpbiArIHRtcF95ICogY29zO1xuXHRcdFx0fVxuXG5cdFx0XHRjb29yZF94ICs9IHg7XG5cdFx0XHRjb29yZF95ICs9IHk7XG5cblx0XHRcdGNvb3Jkc1tpeF0gPSBjb29yZF94O1xuXHRcdFx0Y29vcmRzW2l5XSA9IGNvb3JkX3k7XG5cblx0XHRcdGlmKGl4ID09PSAwKSB7XG5cdFx0XHRcdG1pbl94ID0gbWF4X3ggPSBjb29yZF94O1xuXHRcdFx0XHRtaW5feSA9IG1heF95ID0gY29vcmRfeTtcblx0XHRcdH1cblx0XHRcdGVsc2Uge1xuXHRcdFx0XHRpZihjb29yZF94IDwgbWluX3gpIHtcblx0XHRcdFx0XHRtaW5feCA9IGNvb3JkX3g7XG5cdFx0XHRcdH1cblx0XHRcdFx0ZWxzZSBpZihjb29yZF94ID4gbWF4X3gpIHtcblx0XHRcdFx0XHRtYXhfeCA9IGNvb3JkX3g7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZihjb29yZF95IDwgbWluX3kpIHtcblx0XHRcdFx0XHRtaW5feSA9IGNvb3JkX3k7XG5cdFx0XHRcdH1cblx0XHRcdFx0ZWxzZSBpZihjb29yZF95ID4gbWF4X3kpIHtcblx0XHRcdFx0XHRtYXhfeSA9IGNvb3JkX3k7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHR0aGlzLl94ICAgICAgICAgICAgID0geDtcblx0XHR0aGlzLl95ICAgICAgICAgICAgID0geTtcblx0XHR0aGlzLl9hbmdsZSAgICAgICAgID0gYW5nbGU7XG5cdFx0dGhpcy5fc2NhbGVfeCAgICAgICA9IHNjYWxlX3g7XG5cdFx0dGhpcy5fc2NhbGVfeSAgICAgICA9IHNjYWxlX3k7XG5cdFx0dGhpcy5fbWluX3ggICAgICAgICA9IG1pbl94O1xuXHRcdHRoaXMuX21pbl95ICAgICAgICAgPSBtaW5feTtcblx0XHR0aGlzLl9tYXhfeCAgICAgICAgID0gbWF4X3g7XG5cdFx0dGhpcy5fbWF4X3kgICAgICAgICA9IG1heF95O1xuXHRcdHRoaXMuX2RpcnR5X2Nvb3JkcyAgPSBmYWxzZTtcblx0XHR0aGlzLl9kaXJ0eV9ub3JtYWxzID0gdHJ1ZTtcblx0fVxuXG5cdC8qKlxuXHQgKiBDYWxjdWxhdGVzIHRoZSBub3JtYWxzIGFuZCBlZGdlcyBvZiB0aGUgcG9seWdvbidzIHNpZGVzXG5cdCAqL1xuXHRfY2FsY3VsYXRlTm9ybWFscygpIHtcblx0XHRjb25zdCBjb29yZHMgID0gdGhpcy5fY29vcmRzO1xuXHRcdGNvbnN0IGVkZ2VzICAgPSB0aGlzLl9lZGdlcztcblx0XHRjb25zdCBub3JtYWxzID0gdGhpcy5fbm9ybWFscztcblx0XHRjb25zdCBjb3VudCAgID0gY29vcmRzLmxlbmd0aDtcblxuXHRcdGZvcihsZXQgaXggPSAwLCBpeSA9IDE7IGl4IDwgY291bnQ7IGl4ICs9IDIsIGl5ICs9IDIpIHtcblx0XHRcdGNvbnN0IG5leHQgICA9IGl4ICsgMiA8IGNvdW50ID8gaXggKyAyIDogMDtcblx0XHRcdGNvbnN0IHggICAgICA9IGNvb3Jkc1tuZXh0XSAtIGNvb3Jkc1tpeF07XG5cdFx0XHRjb25zdCB5ICAgICAgPSBjb29yZHNbbmV4dCArIDFdIC0gY29vcmRzW2l5XTtcblx0XHRcdGNvbnN0IGxlbmd0aCA9IHggfHwgeSA/IE1hdGguc3FydCh4ICogeCArIHkgKiB5KSA6IDA7XG5cblx0XHRcdGVkZ2VzW2l4XSAgID0geDtcblx0XHRcdGVkZ2VzW2l5XSAgID0geTtcblx0XHRcdG5vcm1hbHNbaXhdID0gbGVuZ3RoID8geSAvIGxlbmd0aCA6IDA7XG5cdFx0XHRub3JtYWxzW2l5XSA9IGxlbmd0aCA/IC14IC8gbGVuZ3RoIDogMDtcblx0XHR9XG5cblx0XHR0aGlzLl9kaXJ0eV9ub3JtYWxzID0gZmFsc2U7XG5cdH1cbn07XG4iLCJpbXBvcnQgUG9seWdvbiBmcm9tICcuL1BvbHlnb24ubWpzJztcblxuLyoqXG4gKiBBIHBvaW50IHVzZWQgdG8gZGV0ZWN0IGNvbGxpc2lvbnNcbiAqIEBjbGFzc1xuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb2ludCBleHRlbmRzIFBvbHlnb24ge1xuXHQvKipcblx0ICogQGNvbnN0cnVjdG9yXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSBbeCA9IDBdIFRoZSBzdGFydGluZyBYIGNvb3JkaW5hdGVcblx0ICogQHBhcmFtIHtOdW1iZXJ9IFt5ID0gMF0gVGhlIHN0YXJ0aW5nIFkgY29vcmRpbmF0ZVxuXHQgKiBAcGFyYW0ge051bWJlcn0gW3BhZGRpbmcgPSAwXSBUaGUgYW1vdW50IHRvIHBhZCB0aGUgYm91bmRpbmcgdm9sdW1lIHdoZW4gdGVzdGluZyBmb3IgcG90ZW50aWFsIGNvbGxpc2lvbnNcblx0ICovXG5cdGNvbnN0cnVjdG9yKHggPSAwLCB5ID0gMCwgcGFkZGluZyA9IDApIHtcblx0XHRzdXBlcih4LCB5LCBbWzAsIDBdXSwgMCwgMSwgMSwgcGFkZGluZyk7XG5cblx0XHQvKiogQHByaXZhdGUgKi9cblx0XHR0aGlzLl9wb2ludCA9IHRydWU7XG5cdH1cbn07XG5cblBvaW50LnByb3RvdHlwZS5zZXRQb2ludHMgPSB1bmRlZmluZWQ7XG4iLCJpbXBvcnQgQlZIICAgICBmcm9tICcuL21vZHVsZXMvQlZILm1qcyc7XG5pbXBvcnQgQ2lyY2xlICBmcm9tICcuL21vZHVsZXMvQ2lyY2xlLm1qcyc7XG5pbXBvcnQgUG9seWdvbiBmcm9tICcuL21vZHVsZXMvUG9seWdvbi5tanMnO1xuaW1wb3J0IFBvaW50ICAgZnJvbSAnLi9tb2R1bGVzL1BvaW50Lm1qcyc7XG5pbXBvcnQgUmVzdWx0ICBmcm9tICcuL21vZHVsZXMvUmVzdWx0Lm1qcyc7XG5pbXBvcnQgU0FUICAgICBmcm9tICcuL21vZHVsZXMvU0FULm1qcyc7XG5cbi8qKlxuICogQSBjb2xsaXNpb24gc3lzdGVtIHVzZWQgdG8gdHJhY2sgYm9kaWVzIGluIG9yZGVyIHRvIGltcHJvdmUgY29sbGlzaW9uIGRldGVjdGlvbiBwZXJmb3JtYW5jZVxuICogQGNsYXNzXG4gKi9cbmNsYXNzIENvbGxpc2lvbnMge1xuXHQvKipcblx0ICogQGNvbnN0cnVjdG9yXG5cdCAqL1xuXHRjb25zdHJ1Y3RvcigpIHtcblx0XHQvKiogQHByaXZhdGUgKi9cblx0XHR0aGlzLl9idmggPSBuZXcgQlZIKCk7XG5cdH1cblxuXHQvKipcblx0ICogQ3JlYXRlcyBhIHtAbGluayBDaXJjbGV9IGFuZCBpbnNlcnRzIGl0IGludG8gdGhlIGNvbGxpc2lvbiBzeXN0ZW1cblx0ICogQHBhcmFtIHtOdW1iZXJ9IFt4ID0gMF0gVGhlIHN0YXJ0aW5nIFggY29vcmRpbmF0ZVxuXHQgKiBAcGFyYW0ge051bWJlcn0gW3kgPSAwXSBUaGUgc3RhcnRpbmcgWSBjb29yZGluYXRlXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSBbcmFkaXVzID0gMF0gVGhlIHJhZGl1c1xuXHQgKiBAcGFyYW0ge051bWJlcn0gW3NjYWxlID0gMV0gVGhlIHNjYWxlXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSBbcGFkZGluZyA9IDBdIFRoZSBhbW91bnQgdG8gcGFkIHRoZSBib3VuZGluZyB2b2x1bWUgd2hlbiB0ZXN0aW5nIGZvciBwb3RlbnRpYWwgY29sbGlzaW9uc1xuXHQgKiBAcmV0dXJucyB7Q2lyY2xlfVxuXHQgKi9cblx0Y3JlYXRlQ2lyY2xlKHggPSAwLCB5ID0gMCwgcmFkaXVzID0gMCwgc2NhbGUgPSAxLCBwYWRkaW5nID0gMCkge1xuXHRcdGNvbnN0IGJvZHkgPSBuZXcgQ2lyY2xlKHgsIHksIHJhZGl1cywgc2NhbGUsIHBhZGRpbmcpO1xuXG5cdFx0dGhpcy5fYnZoLmluc2VydChib2R5KTtcblxuXHRcdHJldHVybiBib2R5O1xuXHR9XG5cblx0LyoqXG5cdCAqIENyZWF0ZXMgYSB7QGxpbmsgUG9seWdvbn0gYW5kIGluc2VydHMgaXQgaW50byB0aGUgY29sbGlzaW9uIHN5c3RlbVxuXHQgKiBAcGFyYW0ge051bWJlcn0gW3ggPSAwXSBUaGUgc3RhcnRpbmcgWCBjb29yZGluYXRlXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSBbeSA9IDBdIFRoZSBzdGFydGluZyBZIGNvb3JkaW5hdGVcblx0ICogQHBhcmFtIHtBcnJheTxOdW1iZXJbXT59IFtwb2ludHMgPSBbXV0gQW4gYXJyYXkgb2YgY29vcmRpbmF0ZSBwYWlycyBtYWtpbmcgdXAgdGhlIHBvbHlnb24gLSBbW3gxLCB5MV0sIFt4MiwgeTJdLCAuLi5dXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSBbYW5nbGUgPSAwXSBUaGUgc3RhcnRpbmcgcm90YXRpb24gaW4gcmFkaWFuc1xuXHQgKiBAcGFyYW0ge051bWJlcn0gW3NjYWxlX3ggPSAxXSBUaGUgc3RhcnRpbmcgc2NhbGUgYWxvbmcgdGhlIFggYXhpc1xuXHQgKiBAcGFyYW0ge051bWJlcn0gW3NjYWxlX3kgPSAxXSBUaGUgc3RhcnRpbmcgc2NhbGUgbG9uZyB0aGUgWSBheGlzXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSBbcGFkZGluZyA9IDBdIFRoZSBhbW91bnQgdG8gcGFkIHRoZSBib3VuZGluZyB2b2x1bWUgd2hlbiB0ZXN0aW5nIGZvciBwb3RlbnRpYWwgY29sbGlzaW9uc1xuXHQgKiBAcmV0dXJucyB7UG9seWdvbn1cblx0ICovXG5cdGNyZWF0ZVBvbHlnb24oeCA9IDAsIHkgPSAwLCBwb2ludHMgPSBbWzAsIDBdXSwgYW5nbGUgPSAwLCBzY2FsZV94ID0gMSwgc2NhbGVfeSA9IDEsIHBhZGRpbmcgPSAwKSB7XG5cdFx0Y29uc3QgYm9keSA9IG5ldyBQb2x5Z29uKHgsIHksIHBvaW50cywgYW5nbGUsIHNjYWxlX3gsIHNjYWxlX3ksIHBhZGRpbmcpO1xuXG5cdFx0dGhpcy5fYnZoLmluc2VydChib2R5KTtcblxuXHRcdHJldHVybiBib2R5O1xuXHR9XG5cblx0LyoqXG5cdCAqIENyZWF0ZXMgYSB7QGxpbmsgUG9pbnR9IGFuZCBpbnNlcnRzIGl0IGludG8gdGhlIGNvbGxpc2lvbiBzeXN0ZW1cblx0ICogQHBhcmFtIHtOdW1iZXJ9IFt4ID0gMF0gVGhlIHN0YXJ0aW5nIFggY29vcmRpbmF0ZVxuXHQgKiBAcGFyYW0ge051bWJlcn0gW3kgPSAwXSBUaGUgc3RhcnRpbmcgWSBjb29yZGluYXRlXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSBbcGFkZGluZyA9IDBdIFRoZSBhbW91bnQgdG8gcGFkIHRoZSBib3VuZGluZyB2b2x1bWUgd2hlbiB0ZXN0aW5nIGZvciBwb3RlbnRpYWwgY29sbGlzaW9uc1xuXHQgKiBAcmV0dXJucyB7UG9pbnR9XG5cdCAqL1xuXHRjcmVhdGVQb2ludCh4ID0gMCwgeSA9IDAsIHBhZGRpbmcgPSAwKSB7XG5cdFx0Y29uc3QgYm9keSA9IG5ldyBQb2ludCh4LCB5LCBwYWRkaW5nKTtcblxuXHRcdHRoaXMuX2J2aC5pbnNlcnQoYm9keSk7XG5cblx0XHRyZXR1cm4gYm9keTtcblx0fVxuXG5cdC8qKlxuXHQgKiBDcmVhdGVzIGEge0BsaW5rIFJlc3VsdH0gdXNlZCB0byBjb2xsZWN0IHRoZSBkZXRhaWxlZCByZXN1bHRzIG9mIGEgY29sbGlzaW9uIHRlc3Rcblx0ICovXG5cdGNyZWF0ZVJlc3VsdCgpIHtcblx0XHRyZXR1cm4gbmV3IFJlc3VsdCgpO1xuXHR9XG5cblx0LyoqXG5cdCAqIENyZWF0ZXMgYSBSZXN1bHQgdXNlZCB0byBjb2xsZWN0IHRoZSBkZXRhaWxlZCByZXN1bHRzIG9mIGEgY29sbGlzaW9uIHRlc3Rcblx0ICovXG5cdHN0YXRpYyBjcmVhdGVSZXN1bHQoKSB7XG5cdFx0cmV0dXJuIG5ldyBSZXN1bHQoKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBJbnNlcnRzIGJvZGllcyBpbnRvIHRoZSBjb2xsaXNpb24gc3lzdGVtXG5cdCAqIEBwYXJhbSB7Li4uQ2lyY2xlfC4uLlBvbHlnb258Li4uUG9pbnR9IGJvZGllc1xuXHQgKi9cblx0aW5zZXJ0KC4uLmJvZGllcykge1xuXHRcdGZvcihjb25zdCBib2R5IG9mIGJvZGllcykge1xuXHRcdFx0dGhpcy5fYnZoLmluc2VydChib2R5LCBmYWxzZSk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXM7XG5cdH1cblxuXHQvKipcblx0ICogUmVtb3ZlcyBib2RpZXMgZnJvbSB0aGUgY29sbGlzaW9uIHN5c3RlbVxuXHQgKiBAcGFyYW0gey4uLkNpcmNsZXwuLi5Qb2x5Z29ufC4uLlBvaW50fSBib2RpZXNcblx0ICovXG5cdHJlbW92ZSguLi5ib2RpZXMpIHtcblx0XHRmb3IoY29uc3QgYm9keSBvZiBib2RpZXMpIHtcblx0XHRcdHRoaXMuX2J2aC5yZW1vdmUoYm9keSwgZmFsc2UpO1xuXHRcdH1cblxuXHRcdHJldHVybiB0aGlzO1xuXHR9XG5cblx0LyoqXG5cdCAqIFVwZGF0ZXMgdGhlIGNvbGxpc2lvbiBzeXN0ZW0uIFRoaXMgc2hvdWxkIGJlIGNhbGxlZCBiZWZvcmUgYW55IGNvbGxpc2lvbnMgYXJlIHRlc3RlZC5cblx0ICovXG5cdHVwZGF0ZSgpIHtcblx0XHR0aGlzLl9idmgudXBkYXRlKCk7XG5cblx0XHRyZXR1cm4gdGhpcztcblx0fVxuXG5cdC8qKlxuXHQgKiBEcmF3cyB0aGUgYm9kaWVzIHdpdGhpbiB0aGUgc3lzdGVtIHRvIGEgQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEJ3MgY3VycmVudCBwYXRoXG5cdCAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjb250ZXh0IFRoZSBjb250ZXh0IHRvIGRyYXcgdG9cblx0ICovXG5cdGRyYXcoY29udGV4dCkge1xuXHRcdHJldHVybiB0aGlzLl9idmguZHJhdyhjb250ZXh0KTtcblx0fVxuXG5cdC8qKlxuXHQgKiBEcmF3cyB0aGUgc3lzdGVtJ3MgQlZIIHRvIGEgQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEJ3MgY3VycmVudCBwYXRoLiBUaGlzIGlzIHVzZWZ1bCBmb3IgdGVzdGluZyBvdXQgZGlmZmVyZW50IHBhZGRpbmcgdmFsdWVzIGZvciBib2RpZXMuXG5cdCAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjb250ZXh0IFRoZSBjb250ZXh0IHRvIGRyYXcgdG9cblx0ICovXG5cdGRyYXdCVkgoY29udGV4dCkge1xuXHRcdHJldHVybiB0aGlzLl9idmguZHJhd0JWSChjb250ZXh0KTtcblx0fVxuXG5cdC8qKlxuXHQgKiBSZXR1cm5zIGEgbGlzdCBvZiBwb3RlbnRpYWwgY29sbGlzaW9ucyBmb3IgYSBib2R5XG5cdCAqIEBwYXJhbSB7Q2lyY2xlfFBvbHlnb258UG9pbnR9IGJvZHkgVGhlIGJvZHkgdG8gdGVzdCBmb3IgcG90ZW50aWFsIGNvbGxpc2lvbnMgYWdhaW5zdFxuXHQgKiBAcmV0dXJucyB7QXJyYXk8Qm9keT59XG5cdCAqL1xuXHRwb3RlbnRpYWxzKGJvZHkpIHtcblx0XHRyZXR1cm4gdGhpcy5fYnZoLnBvdGVudGlhbHMoYm9keSk7XG5cdH1cblxuXHQvKipcblx0ICogRGV0ZXJtaW5lcyBpZiB0d28gYm9kaWVzIGFyZSBjb2xsaWRpbmdcblx0ICogQHBhcmFtIHtDaXJjbGV8UG9seWdvbnxQb2ludH0gdGFyZ2V0IFRoZSB0YXJnZXQgYm9keSB0byB0ZXN0IGFnYWluc3Rcblx0ICogQHBhcmFtIHtSZXN1bHR9IFtyZXN1bHQgPSBudWxsXSBBIFJlc3VsdCBvYmplY3Qgb24gd2hpY2ggdG8gc3RvcmUgaW5mb3JtYXRpb24gYWJvdXQgdGhlIGNvbGxpc2lvblxuXHQgKiBAcGFyYW0ge0Jvb2xlYW59IFthYWJiID0gdHJ1ZV0gU2V0IHRvIGZhbHNlIHRvIHNraXAgdGhlIEFBQkIgdGVzdCAodXNlZnVsIGlmIHlvdSB1c2UgeW91ciBvd24gcG90ZW50aWFsIGNvbGxpc2lvbiBoZXVyaXN0aWMpXG5cdCAqIEByZXR1cm5zIHtCb29sZWFufVxuXHQgKi9cblx0Y29sbGlkZXMoc291cmNlLCB0YXJnZXQsIHJlc3VsdCA9IG51bGwsIGFhYmIgPSB0cnVlKSB7XG5cdFx0cmV0dXJuIFNBVChzb3VyY2UsIHRhcmdldCwgcmVzdWx0LCBhYWJiKTtcblx0fVxufTtcblxuZXhwb3J0IHtcblx0Q29sbGlzaW9ucyBhcyBkZWZhdWx0LFxuXHRDb2xsaXNpb25zLFxuXHRSZXN1bHQsXG5cdENpcmNsZSxcblx0UG9seWdvbixcblx0UG9pbnQsXG59O1xuIiwiaW1wb3J0IERlZmF1bHRzIGZyb20gJy4vRGVmYXVsdHMnO1xyXG5pbXBvcnQgQ29sbGlzaW9ucyBmcm9tICdjb2xsaXNpb25zJztcclxuXHJcbi8qXHJcbj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbiAgV29ybGQgY2xhc3NcclxuPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuKi9cclxuXHJcbmNsYXNzIFdvcmxkIHtcclxuICBjb25zdHJ1Y3RvcihwNSwgc2V0dGluZ3MpIHtcclxuICAgIHRoaXMucDUgPSBwNTtcclxuICAgIHRoaXMuc2V0dGluZ3MgPSBPYmplY3QuYXNzaWduKHt9LCBEZWZhdWx0cywgc2V0dGluZ3MpO1xyXG5cclxuICAgIC8vIFN0YXRlIGZsYWdzXHJcbiAgICB0aGlzLnBhdXNlZCA9IGZhbHNlO1xyXG4gICAgdGhpcy5zaG93V2Fsa2VycyA9IHRoaXMuc2V0dGluZ3MuU2hvd1dhbGtlcnM7XHJcbiAgICB0aGlzLnNob3dDbHVzdGVycyA9IHRoaXMuc2V0dGluZ3MuU2hvd0NsdXN0ZXJzO1xyXG5cclxuICAgIC8vIE51bWJlciBvZiBhY3RpdmUgd2Fsa2Vyc1xyXG4gICAgdGhpcy5udW1XYWxrZXJzID0gMDtcclxuXHJcbiAgICAvLyBPdXRlciBlZGdlcyBvZiBhY3RpdmUgc2tldGNoIGFyZWEgKHNjcmVlbiBvciBjb25maW5lZCBcImZyYW1lXCIpXHJcbiAgICB0aGlzLmVkZ2VzID0ge307XHJcbiAgICB0aGlzLmZyYW1lID0ge307XHJcblxyXG4gICAgaWYgKHR5cGVvZiB0aGlzLnNldHRpbmdzLkZyYW1lU2l6ZSA9PSAnbnVtYmVyJykge1xyXG4gICAgICB0aGlzLmZyYW1lLmxlZnQgPSB3aW5kb3cuaW5uZXJXaWR0aCAvIDIgLSB0aGlzLnNldHRpbmdzLkZyYW1lU2l6ZSAvIDI7XHJcbiAgICAgIHRoaXMuZnJhbWUucmlnaHQgPSB3aW5kb3cuaW5uZXJXaWR0aCAvIDIgKyB0aGlzLnNldHRpbmdzLkZyYW1lU2l6ZSAvIDI7XHJcbiAgICAgIHRoaXMuZnJhbWUudG9wID0gd2luZG93LmlubmVySGVpZ2h0IC8gMiAtIHRoaXMuc2V0dGluZ3MuRnJhbWVTaXplIC8gMjtcclxuICAgICAgdGhpcy5mcmFtZS5ib3R0b20gPSB3aW5kb3cuaW5uZXJIZWlnaHQgLyAyICsgdGhpcy5zZXR0aW5ncy5GcmFtZVNpemUgLyAyO1xyXG4gICAgfSBlbHNlIGlmICh0eXBlb2YgdGhpcy5zZXR0aW5ncy5GcmFtZVNpemUgPT0gJ29iamVjdCcpIHtcclxuICAgICAgdGhpcy5mcmFtZS5sZWZ0ID0gd2luZG93LmlubmVyV2lkdGggLyAyIC0gdGhpcy5zZXR0aW5ncy5GcmFtZVNpemVbMF0gLyAyO1xyXG4gICAgICB0aGlzLmZyYW1lLnJpZ2h0ID0gd2luZG93LmlubmVyV2lkdGggLyAyICsgdGhpcy5zZXR0aW5ncy5GcmFtZVNpemVbMF0gLyAyO1xyXG4gICAgICB0aGlzLmZyYW1lLnRvcCA9IHdpbmRvdy5pbm5lckhlaWdodCAvIDIgLSB0aGlzLnNldHRpbmdzLkZyYW1lU2l6ZVsxXSAvIDI7XHJcbiAgICAgIHRoaXMuZnJhbWUuYm90dG9tID0gd2luZG93LmlubmVySGVpZ2h0IC8gMiArIHRoaXMuc2V0dGluZ3MuRnJhbWVTaXplWzFdIC8gMjtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLmVkZ2VzLmxlZnQgPSB0aGlzLnNldHRpbmdzLlVzZUZyYW1lID8gdGhpcy5mcmFtZS5sZWZ0IDogMDtcclxuICAgIHRoaXMuZWRnZXMucmlnaHQgPSB0aGlzLnNldHRpbmdzLlVzZUZyYW1lID8gdGhpcy5mcmFtZS5yaWdodCA6IHdpbmRvdy5pbm5lcldpZHRoO1xyXG4gICAgdGhpcy5lZGdlcy50b3AgPSB0aGlzLnNldHRpbmdzLlVzZUZyYW1lID8gdGhpcy5mcmFtZS50b3AgOiAwO1xyXG4gICAgdGhpcy5lZGdlcy5ib3R0b20gPSB0aGlzLnNldHRpbmdzLlVzZUZyYW1lID8gdGhpcy5mcmFtZS5ib3R0b20gOiB3aW5kb3cuaW5uZXJIZWlnaHQ7XHJcblxyXG4gICAgLy8gQ29sbGlzaW9uIHN5c3RlbVxyXG4gICAgdGhpcy5zeXN0ZW0gPSBuZXcgQ29sbGlzaW9ucygpO1xyXG4gICAgdGhpcy5ib2RpZXMgPSBbXTtcclxuXHJcbiAgICAvLyBTcGF3biBpbml0aWFsIHdhbGtlcnNcclxuICAgIHRoaXMuY3JlYXRlSW5pdGlhbFdhbGtlcnMoKTtcclxuICB9XHJcblxyXG5cclxuICAvLz09PT09PT09PT09PT09PT09PT09PT1cclxuICAvLyAgUnVuIG9uZSBpdGVyYXRpb25cclxuICAvLz09PT09PT09PT09PT09PT09PT09PT1cclxuICBpdGVyYXRlKCkge1xyXG4gICAgLy8gU2tpcCB0aGlzIGl0ZXJhdGlvbiB3aGVuIHRoZSB3b3JsZCBpcyBwYXVzZWRcclxuICAgIGlmICh0aGlzLnBhdXNlZCkge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgLy8gUmVwbGVuaXNoIGFueSB3YWxrZXJzIHRoYXQgc3R1Y2sgdG8gdGhlIGNsdXN0ZXIocykgaW4gdGhlIGxhc3QgaXRlcmF0aW9uXHJcbiAgICBpZiAodGhpcy5zZXR0aW5ncy5SZXBsZW5pc2hXYWxrZXJzICYmIHRoaXMubnVtV2Fsa2VycyA8IHRoaXMuc2V0dGluZ3MuTWF4V2Fsa2Vycykge1xyXG4gICAgICB0aGlzLmNyZWF0ZVdhbGtlcnModGhpcy5zZXR0aW5ncy5NYXhXYWxrZXJzIC0gdGhpcy5udW1XYWxrZXJzKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBNb3ZlIGFsbCB0aGUgd2Fsa2Vyc1xyXG4gICAgdGhpcy5tb3ZlV2Fsa2VycygpO1xyXG5cclxuICAgIC8vIFVwZGF0ZSB0aGUgY29sbGlzaW9uIHN5c3RlbVxyXG4gICAgdGhpcy5zeXN0ZW0udXBkYXRlKCk7XHJcblxyXG4gICAgLy8gQ2hlY2sgZm9yIGNvbGxpc2lvbnMgYW5kIGNvbnZlcnQgd2Fsa2VycyB0byBjbHVzdGVyIHBhcnRpY2xlcyBhcyBuZWVkZWRcclxuICAgIHRoaXMuaGFuZGxlQ29sbGlzaW9ucygpO1xyXG4gIH1cclxuXHJcblxyXG4gIC8vPT09PT09PT09PT09PT09PT09PT09PVxyXG4gIC8vICBEcmF3aW5nIG1ldGhvZHNcclxuICAvLz09PT09PT09PT09PT09PT09PT09PT1cclxuICBkcmF3KCkge1xyXG4gICAgdGhpcy5wNS5iYWNrZ3JvdW5kKDI1NSk7XHJcblxyXG4gICAgLy8gVE9ETzogY29tYmluZSBjb25kaXRpb25hbHMgaW50byBvbmUgbGF5ZXJcclxuXHJcbiAgICAvLyBEcmF3IGFsbCBwYXJ0aWNsZXMgKGJvdGggd2Fsa2VycyBhbmQgY2x1c3RlcmVkIHBhcnRpY2xlcylcclxuICAgIGZvciAobGV0IGJvZHkgb2YgdGhpcy5ib2RpZXMpIHtcclxuICAgICAgaWYgKCFib2R5LnN0dWNrICYmIHRoaXMuc2hvd1dhbGtlcnMpIHtcclxuICAgICAgICBpZiAoYm9keS5fcG9pbnQpIHtcclxuICAgICAgICAgIHRoaXMucDUuc3Ryb2tlKDApO1xyXG4gICAgICAgICAgdGhpcy5wNS5ub0ZpbGwoKTtcclxuICAgICAgICAgIHRoaXMucDUucG9pbnQoYm9keS54LCBib2R5LnkpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoYm9keS5fY2lyY2xlKSB7XHJcbiAgICAgICAgICB0aGlzLnA1Lm5vU3Ryb2tlKCk7XHJcbiAgICAgICAgICB0aGlzLnA1LmZpbGwoMjMwKTtcclxuICAgICAgICAgIHRoaXMucDUuZWxsaXBzZShib2R5LngsIGJvZHkueSwgdGhpcy5zZXR0aW5ncy5DaXJjbGVEaWFtZXRlcik7XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGVsc2UgaWYgKGJvZHkuc3R1Y2sgJiYgdGhpcy5zaG93Q2x1c3RlcnMpIHtcclxuICAgICAgICBpZiAoYm9keS5fcG9pbnQpIHtcclxuICAgICAgICAgIHRoaXMucDUuc3Ryb2tlKDApO1xyXG4gICAgICAgICAgdGhpcy5wNS5ub0ZpbGwoKTtcclxuICAgICAgICAgIHRoaXMucDUucG9pbnQoYm9keS54LCBib2R5LnkpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoYm9keS5fY2lyY2xlKSB7XHJcbiAgICAgICAgICB0aGlzLnA1Lm5vU3Ryb2tlKCk7XHJcbiAgICAgICAgICB0aGlzLnA1LmZpbGwoMTUwKTtcclxuICAgICAgICAgIHRoaXMucDUuZWxsaXBzZShib2R5LngsIGJvZHkueSwgdGhpcy5zZXR0aW5ncy5DaXJjbGVEaWFtZXRlcik7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gRHJhdyBhIHNxdWFyZSBhcm91bmQgdGhlIGFjdGl2ZSBhcmVhLCBpZiBzZXRcclxuICAgIGlmICh0aGlzLnNldHRpbmdzLlVzZUZyYW1lKSB7XHJcbiAgICAgIHRoaXMuZHJhd0ZyYW1lKCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBkcmF3RnJhbWUoKSB7XHJcbiAgICB0aGlzLnA1Lm5vRmlsbCgpO1xyXG4gICAgdGhpcy5wNS5zdHJva2UoMCk7XHJcblxyXG4gICAgaWYgKHR5cGVvZiB0aGlzLnNldHRpbmdzLkZyYW1lU2l6ZSA9PSAnbnVtYmVyJykge1xyXG4gICAgICB0aGlzLnA1LnJlY3QoXHJcbiAgICAgICAgd2luZG93LmlubmVyV2lkdGggLyAyIC0gdGhpcy5zZXR0aW5ncy5GcmFtZVNpemUgLyAyIC0gMSxcclxuICAgICAgICB3aW5kb3cuaW5uZXJIZWlnaHQgLyAyIC0gdGhpcy5zZXR0aW5ncy5GcmFtZVNpemUgLyAyIC0gMSxcclxuICAgICAgICB0aGlzLnNldHRpbmdzLkZyYW1lU2l6ZSArIDIsXHJcbiAgICAgICAgdGhpcy5zZXR0aW5ncy5GcmFtZVNpemUgKyAyXHJcbiAgICAgICk7XHJcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiB0aGlzLnNldHRpbmdzLkZyYW1lU2l6ZSA9PSAnb2JqZWN0Jykge1xyXG4gICAgICB0aGlzLnA1LnJlY3QoXHJcbiAgICAgICAgd2luZG93LmlubmVyV2lkdGggLyAyIC0gdGhpcy5zZXR0aW5ncy5GcmFtZVNpemVbMF0gLyAyIC0gMSxcclxuICAgICAgICB3aW5kb3cuaW5uZXJIZWlnaHQgLyAyIC0gdGhpcy5zZXR0aW5ncy5GcmFtZVNpemVbMV0gLyAyIC0gMSxcclxuICAgICAgICB0aGlzLnNldHRpbmdzLkZyYW1lU2l6ZVswXSArIDIsXHJcbiAgICAgICAgdGhpcy5zZXR0aW5ncy5GcmFtZVNpemVbMV0gKyAyXHJcbiAgICAgIClcclxuICAgIH1cclxuICB9XHJcblxyXG5cclxuICAvLz09PT09PT09PT09PT09PT09PT09PT1cclxuICAvLyAgTW92ZSBhbGwgd2Fsa2Vyc1xyXG4gIC8vPT09PT09PT09PT09PT09PT09PT09PVxyXG4gIG1vdmVXYWxrZXJzKCkge1xyXG4gICAgaWYgKHRoaXMuYm9kaWVzLmxlbmd0aCA+IDApIHtcclxuICAgICAgZm9yIChsZXQgYm9keSBvZiB0aGlzLmJvZGllcykge1xyXG5cclxuICAgICAgICAvLyBUT0RPOiBwcnVuZSB3YWxrZXJzIChyZW1vdmUgd2Fsa2VycyB0aGF0IGhhdmUgZ290dGVuIHRvbyAnb2xkJylcclxuXHJcbiAgICAgICAgaWYgKCFib2R5LnN0dWNrKSB7XHJcbiAgICAgICAgICAvLyBTdGFydCB3aXRoIGEgcmFuZG9taXplZCBtb3ZlbWVudCAoQnJvd25pYW4gbW90aW9uKVxyXG4gICAgICAgICAgbGV0IGRlbHRhWCA9IHRoaXMucDUucmFuZG9tKC0xLCAxKSxcclxuICAgICAgICAgICAgZGVsdGFZID0gdGhpcy5wNS5yYW5kb20oLTEsIDEpO1xyXG5cclxuICAgICAgICAgIC8vIEVuc3VyZSBvbmx5IHdob2xlIG51bWJlcnMgZm9yIHNpbmdsZS1waXhlbCBwYXJ0aWNsZXMgc28gdGhleSBhcmUgYWx3YXlzICdvbiBsYXR0aWNlJ1xyXG4gICAgICAgICAgaWYoYm9keS5fcG9pbnQpIHtcclxuICAgICAgICAgICAgZGVsdGFYID0gTWF0aC5yb3VuZChkZWx0YVgpO1xyXG4gICAgICAgICAgICBkZWx0YVkgPSBNYXRoLnJvdW5kKGRlbHRhWSk7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgLy8gQWRkIGluIGEgYmlhcyB0b3dhcmRzIGEgc3BlY2lmaWMgZGlyZWN0aW9uLCBpZiBzZXRcclxuICAgICAgICAgIHN3aXRjaCAodGhpcy5zZXR0aW5ncy5CaWFzVG93YXJkcykge1xyXG4gICAgICAgICAgICBjYXNlICdUb3AnOlxyXG4gICAgICAgICAgICAgIGRlbHRhWSAtPSB0aGlzLnNldHRpbmdzLkJpYXNGb3JjZTtcclxuICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgIGNhc2UgJ0JvdHRvbSc6XHJcbiAgICAgICAgICAgICAgZGVsdGFZICs9IHRoaXMuc2V0dGluZ3MuQmlhc0ZvcmNlO1xyXG4gICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgY2FzZSAnTGVmdCc6XHJcbiAgICAgICAgICAgICAgZGVsdGFYIC09IHRoaXMuc2V0dGluZ3MuQmlhc0ZvcmNlO1xyXG4gICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgY2FzZSAnUmlnaHQnOlxyXG4gICAgICAgICAgICAgIGRlbHRhWCArPSB0aGlzLnNldHRpbmdzLkJpYXNGb3JjZTtcclxuICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgIGNhc2UgJ0NlbnRlcic6XHJcbiAgICAgICAgICAgICAgbGV0IGFuZ2xlID0gTWF0aC5hdGFuMih3aW5kb3cuaW5uZXJIZWlnaHQgLyAyIC0gYm9keS55LCB3aW5kb3cuaW5uZXJXaWR0aCAvIDIgLSBib2R5LngpO1xyXG4gICAgICAgICAgICAgIGRlbHRhWCArPSBNYXRoLmNvcyhhbmdsZSkgKiB0aGlzLnNldHRpbmdzLkJpYXNGb3JjZTtcclxuICAgICAgICAgICAgICBkZWx0YVkgKz0gTWF0aC5zaW4oYW5nbGUpICogdGhpcy5zZXR0aW5ncy5CaWFzRm9yY2U7XHJcbiAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgLy8gQXBwbHkgZGVsdGFzIHVubGVzcyBkb2luZyBzbyB3b3VsZCBtb3ZlIHRoZSB3YWxrZXIgb3V0c2lkZSB0aGUgc2tldGNoIGJvdW5kc1xyXG4gICAgICAgICAgaWYgKGJvZHkueCArIGRlbHRhWCA+IHRoaXMuZWRnZXMubGVmdCAmJiBib2R5LnggKyBkZWx0YVggPCB0aGlzLmVkZ2VzLnJpZ2h0KSB7XHJcbiAgICAgICAgICAgIGJvZHkueCArPSBkZWx0YVg7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgaWYgKGJvZHkueSArIGRlbHRhWSA+IHRoaXMuZWRnZXMudG9wICYmIGJvZHkueSArIGRlbHRhWSA8IHRoaXMuZWRnZXMuYm90dG9tKSB7XHJcbiAgICAgICAgICAgIGJvZHkueSArPSBkZWx0YVk7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgLy8gSW5jcmVtZW50IGFnZSBvZiB0aGUgd2Fsa2VyXHJcbiAgICAgICAgICBib2R5LmFnZSsrO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcblxyXG4gIC8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuICAvLyAgTG9vayBmb3IgY29sbGlzaW9ucyBiZXR3ZWVuIHdhbGtlcnMgYW5kIGNsdXN0ZXJzXHJcbiAgLy89PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cclxuICAvLyBUT0RPOiBmbGlwIHRoZSBsb2dpYyBzbyB0aGF0IHdlIG9ubHkgY2hlY2sgX2NsdXN0ZXJlZCBwYXJ0aWNsZXNfIGFnYWluc3QgcG90ZW50aWFsIGNvbGxpc2lvbnMsIG5vdCBfYWxsIHBhcnRpY2xlc18gZm9yIHBvdGVudGlhbHNcclxuICBoYW5kbGVDb2xsaXNpb25zKCkge1xyXG4gICAgZm9yIChsZXQgYm9keSBvZiB0aGlzLmJvZGllcykge1xyXG4gICAgICAvLyBDdXQgZG93biBvbiBkdXBsaWNhdGUgY29tcHV0YXRpb25zIGJ5IG9ubHkgbG9va2luZyBmb3IgY29sbGlzaW9ucyBvbiB3YWxrZXJzXHJcbiAgICAgIGlmIChib2R5LnN0dWNrKSB7XHJcbiAgICAgICAgY29udGludWU7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIExvb2sgZm9yIGJyb2FkcGhhc2UgY29sbGlzaW9uc1xyXG4gICAgICBjb25zdCBwb3RlbnRpYWxzID0gYm9keS5wb3RlbnRpYWxzKCk7XHJcblxyXG4gICAgICBmb3IgKGxldCBzZWNvbmRCb2R5IG9mIHBvdGVudGlhbHMpIHtcclxuICAgICAgICAvLyBQb2ludHMgc2hvdWxkIGJlIGNoZWNrZWQgZm9yIGFkamFjZW5jeSB0byBhIHN0dWNrIHBhcnRpY2xlIFxyXG4gICAgICAgIGlmIChib2R5Ll9wb2ludCkge1xyXG4gICAgICAgICAgaWYgKHNlY29uZEJvZHkuc3R1Y2spIHtcclxuICAgICAgICAgICAgYm9keS5zdHVjayA9IHRydWU7XHJcbiAgICAgICAgICAgIHRoaXMud2Fsa2Vycy0tO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIC8vIENpcmNsZXMgYW5kIHBvbHlnb25zIHNob3VsZCBiZSBjaGVja2VkIGZvciBjb2xsaXNpb24gKG92ZXJsYXApIHdpdGggcG90ZW50aWFsc1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBpZiAoc2Vjb25kQm9keS5zdHVjayAmJiBib2R5LmNvbGxpZGVzKHNlY29uZEJvZHkpKSB7XHJcbiAgICAgICAgICAgIGJvZHkuc3R1Y2sgPSB0cnVlO1xyXG4gICAgICAgICAgICB0aGlzLm51bVdhbGtlcnMtLTtcclxuXHJcbiAgICAgICAgICAgIC8vIFRPRE86IGNyZWF0ZSBhIGxpbmUgYmV0d2VlbiB0aGUgdHdvIGJvZGllcyBmb3IgbGluZSByZW5kZXJpbmcgbW9kZVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcblxyXG4gIC8vPT09PT09PT09PT09PT09PT09PT1cclxuICAvLyAgQ3JlYXRlIG1ldGhvZHNcclxuICAvLz09PT09PT09PT09PT09PT09PT09XHJcbiAgY3JlYXRlUGFydGljbGUoeCwgeSwgc3R1Y2sgPSBmYWxzZSkge1xyXG4gICAgbGV0IGJvZHk7XHJcblxyXG4gICAgaWYgKHRoaXMuc2V0dGluZ3MuQ2lyY2xlRGlhbWV0ZXIgPT0gMSkge1xyXG4gICAgICBib2R5ID0gdGhpcy5zeXN0ZW0uY3JlYXRlUG9pbnQoeCwgeSk7XHJcbiAgICAgIGJvZHkuX3BvaW50ID0gdHJ1ZTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGJvZHkgPSB0aGlzLnN5c3RlbS5jcmVhdGVDaXJjbGUoeCwgeSwgdGhpcy5zZXR0aW5ncy5DaXJjbGVEaWFtZXRlciAvIDIpO1xyXG4gICAgICBib2R5Ll9jaXJjbGUgPSB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIGJvZHkuc3R1Y2sgPSBzdHVjaztcclxuICAgIGJvZHkuYWdlID0gMDtcclxuXHJcbiAgICB0aGlzLmJvZGllcy5wdXNoKGJvZHkpO1xyXG4gIH1cclxuXHJcbiAgY3JlYXRlV2Fsa2VyKHgsIHkpIHtcclxuICAgIHRoaXMuY3JlYXRlUGFydGljbGUoeCwgeSk7XHJcbiAgICB0aGlzLm51bVdhbGtlcnMrKztcclxuICB9XHJcblxyXG4gIGNyZWF0ZVdhbGtlcnMoY291bnQpIHtcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY291bnQ7IGkrKykge1xyXG4gICAgICBsZXQgeCwgeTtcclxuXHJcbiAgICAgIHN3aXRjaCAodGhpcy5zZXR0aW5ncy5XYWxrZXJTb3VyY2UpIHtcclxuICAgICAgICAvLyBFZGdlcyA9IHNwYXduIHdhbGtlcnMgYXQgc2NyZWVuIGVkZ2VzXHJcbiAgICAgICAgY2FzZSAnRWRnZXMnOlxyXG4gICAgICAgICAgbGV0IGVkZ2UgPSBNYXRoLnJvdW5kKHA1LnJhbmRvbSgxLCA0KSk7XHJcblxyXG4gICAgICAgICAgc3dpdGNoIChlZGdlKSB7XHJcbiAgICAgICAgICAgIGNhc2UgMTogLy8gdG9wXHJcbiAgICAgICAgICAgICAgeCA9IHA1LnJhbmRvbSh3aW5kb3cuaW5uZXJXaWR0aCk7XHJcbiAgICAgICAgICAgICAgeSA9IDA7XHJcbiAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICBjYXNlIDI6IC8vIHJpZ2h0XHJcbiAgICAgICAgICAgICAgeCA9IHdpbmRvdy5pbm5lcldpZHRoO1xyXG4gICAgICAgICAgICAgIHkgPSBwNS5yYW5kb20od2luZG93LmlubmVySGVpZ2h0KTtcclxuICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgIGNhc2UgMzogLy8gYm90dG9tXHJcbiAgICAgICAgICAgICAgeCA9IHA1LnJhbmRvbSh3aW5kb3cuaW5uZXJXaWR0aCk7XHJcbiAgICAgICAgICAgICAgeSA9IHdpbmRvdy5pbm5lckhlaWdodDtcclxuICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgIGNhc2UgNDogLy8gbGVmdFxyXG4gICAgICAgICAgICAgIHggPSAwO1xyXG4gICAgICAgICAgICAgIHkgPSBwNS5yYW5kb20od2luZG93LmlubmVySGVpZ2h0KTtcclxuICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgLy8gQ2lyY2xlID0gc3Bhd24gd2Fsa2VycyBpbiBhIGNpcmNsZSBhcm91bmQgdGhlIGNlbnRlciBvZiB0aGUgc2NyZWVuXHJcbiAgICAgICAgY2FzZSAnQ2lyY2xlJzpcclxuICAgICAgICAgIGxldCByYWRpdXMgPSA1MCxcclxuICAgICAgICAgICAgYW5nbGUgPSB0aGlzLnA1LnJhbmRvbSgzNjApO1xyXG5cclxuICAgICAgICAgIHggPSB3aW5kb3cuaW5uZXJXaWR0aCAvIDIgKyByYWRpdXMgKiBNYXRoLmNvcyhhbmdsZSAqIE1hdGguUEkgLyAxODApO1xyXG4gICAgICAgICAgeSA9IHdpbmRvdy5pbm5lckhlaWdodCAvIDIgKyByYWRpdXMgKiBNYXRoLnNpbihhbmdsZSAqIE1hdGguUEkgLyAxODApO1xyXG4gICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgLy8gUmFuZG9tID0gc3Bhd24gd2Fsa2VycyByYW5kb21seSB0aHJvdWdob3V0IHRoZSBlbnRpcmUgc2NyZWVuXHJcbiAgICAgICAgY2FzZSAnUmFuZG9tJzpcclxuICAgICAgICAgIHggPSB0aGlzLnA1LnJhbmRvbSh0aGlzLmVkZ2VzLmxlZnQsIHRoaXMuZWRnZXMucmlnaHQpO1xyXG4gICAgICAgICAgeSA9IHRoaXMucDUucmFuZG9tKHRoaXMuZWRnZXMudG9wLCB0aGlzLmVkZ2VzLmJvdHRvbSk7XHJcbiAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAvLyBDZW50ZXIgPSBzcGF3biBhbGwgd2Fsa2VycyBhdCBzY3JlZW4gY2VudGVyXHJcbiAgICAgICAgY2FzZSAnQ2VudGVyJzpcclxuICAgICAgICAgIHggPSB3aW5kb3cuaW5uZXJXaWR0aCAvIDI7XHJcbiAgICAgICAgICB5ID0gd2luZG93LmlubmVySGVpZ2h0IC8gMjtcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBDcmVhdGUgYSB3YWxrZXIgd2l0aCB0aGUgY29vcmRpbmF0ZXNcclxuICAgICAgdGhpcy5jcmVhdGVXYWxrZXIoTWF0aC5yb3VuZCh4KSwgTWF0aC5yb3VuZCh5KSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBjcmVhdGVJbml0aWFsV2Fsa2VycygpIHtcclxuICAgIHRoaXMuY3JlYXRlV2Fsa2Vycyh0aGlzLnNldHRpbmdzLk1heFdhbGtlcnMpO1xyXG4gIH1cclxuXHJcbiAgY3JlYXRlQ2x1c3RlckZyb21Db29yZHMoY29vcmRMaXN0KSB7XHJcbiAgICBpZiAoY29vcmRMaXN0Lmxlbmd0aCA+IDApIHtcclxuICAgICAgZm9yIChsZXQgY29vcmRzIG9mIGNvb3JkTGlzdCkge1xyXG4gICAgICAgIHRoaXMuY3JlYXRlUGFydGljbGUoY29vcmRzLngsIGNvb3Jkcy55LCB0cnVlKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcblxyXG4gIC8vPT09PT09PT09PT09PT1cclxuICAvLyAgUmVtb3ZlcnNcclxuICAvLz09PT09PT09PT09PT09XHJcbiAgcmVtb3ZlQWxsKCkge1xyXG4gICAgZm9yIChsZXQgYm9keSBvZiB0aGlzLmJvZGllcykge1xyXG4gICAgICB0aGlzLnN5c3RlbS5yZW1vdmUoYm9keSk7XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5ib2RpZXMgPSBbXTtcclxuICAgIHRoaXMubnVtV2Fsa2VycyA9IDA7XHJcbiAgfVxyXG5cclxuXHJcbiAgLy89PT09PT09PT09PT09PT09PVxyXG4gIC8vICBUb2dnbGVyc1xyXG4gIC8vPT09PT09PT09PT09PT09PT1cclxuICB0b2dnbGVQYXVzZSgpIHtcclxuICAgIHRoaXMucGF1c2VkID0gIXRoaXMucGF1c2VkO1xyXG4gIH1cclxuXHJcbiAgdG9nZ2xlU2hvd1dhbGtlcnMoKSB7XHJcbiAgICB0aGlzLnNob3dXYWxrZXJzID0gIXRoaXMuc2hvd1dhbGtlcnM7XHJcbiAgfVxyXG5cclxuICB0b2dnbGVTaG93Q2x1c3RlcnMoKSB7XHJcbiAgICB0aGlzLnNob3dDbHVzdGVycyA9ICF0aGlzLnNob3dDbHVzdGVycztcclxuICB9XHJcblxyXG5cclxuICAvLz09PT09PT09PT09PT09PT09PT1cclxuICAvLyAgUGF1c2UvdW5wYXVzZVxyXG4gIC8vPT09PT09PT09PT09PT09PT09PVxyXG4gIHBhdXNlKCkge1xyXG4gICAgdGhpcy5wYXVzZWQgPSB0cnVlO1xyXG4gIH1cclxuXHJcbiAgdW5wYXVzZSgpIHtcclxuICAgIHRoaXMucGF1c2VkID0gZmFsc2U7XHJcbiAgfVxyXG5cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgV29ybGQ7IiwiZXhwb3J0IGRlZmF1bHQge1xyXG4gIC8vIERpYW1ldGVyIG9mIHBhcnRpY2xlc1xyXG4gIENpcmNsZURpYW1ldGVyOiA1LFxyXG5cclxuICAvLyBDb25maW5lIHNrZXRjaCB0byBmcmFtZSAoOTAweDkwMHB4IGJ5IGRlZmF1bHQpXHJcbiAgVXNlRnJhbWU6IHRydWUsXHJcblxyXG4gIC8vIEhpZGUgd2Fsa2VycyBieSBkZWZhdWx0XHJcbiAgU2hvd1dhbGtlcnM6IGZhbHNlLFxyXG59OyIsImltcG9ydCBTZXR0aW5ncyBmcm9tICcuL1NldHRpbmdzJztcclxuaW1wb3J0IFdvcmxkIGZyb20gJy4uLy4uL2NvcmUvV29ybGQnO1xyXG5cclxubGV0IHdvcmxkLFxyXG4gICAgaW5pdGlhbENsdXN0ZXJUeXBlID0gJ1BvaW50JztcclxuXHJcbmNvbnN0IHNrZXRjaCA9IGZ1bmN0aW9uIChwNSkge1xyXG4gIC8vIFNldHVwIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gIHA1LnNldHVwID0gZnVuY3Rpb24gKCkge1xyXG4gICAgcDUuY3JlYXRlQ2FudmFzKHdpbmRvdy5pbm5lcldpZHRoLCB3aW5kb3cuaW5uZXJIZWlnaHQpO1xyXG4gICAgcDUuY29sb3JNb2RlKHA1LkhTQiwgMjU1KTtcclxuICAgIHA1LmVsbGlwc2VNb2RlKHA1LkNFTlRFUik7XHJcblxyXG4gICAgLy8gU2V0IHVwIHRoZSBzaW11bGF0aW9uIGVudmlyb25tZW50XHJcbiAgICB3b3JsZCA9IG5ldyBXb3JsZChwNSwgU2V0dGluZ3MpO1xyXG4gICAgd29ybGQuc2V0dGluZ3MuQmlhc1Rvd2FyZHMgPSAnQ2VudGVyJztcclxuXHJcbiAgICAvLyBTZXQgdXAgaW5pdGlhbCAoc2VlZCkgcGFydGljbGVzIGZvciBjbHVzdGVyc1xyXG4gICAgY3JlYXRlSW5pdGlhbENsdXN0ZXJzKCk7XHJcbiAgfVxyXG5cclxuICAvLyBEcmF3IC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICBwNS5kcmF3ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgd29ybGQuaXRlcmF0ZSgpO1xyXG4gICAgd29ybGQuZHJhdygpO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gcmVzZXRXb3JsZCgpIHtcclxuICAgIHdvcmxkLnJlbW92ZUFsbCgpO1xyXG4gICAgd29ybGQuY3JlYXRlSW5pdGlhbFdhbGtlcnMoKTtcclxuICAgIGNyZWF0ZUluaXRpYWxDbHVzdGVycygpO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gY3JlYXRlSW5pdGlhbENsdXN0ZXJzKCkge1xyXG4gICAgbGV0IHBhcnRpY2xlQ29vcmRzID0gW107XHJcblxyXG4gICAgc3dpdGNoIChpbml0aWFsQ2x1c3RlclR5cGUpIHtcclxuICAgICAgLy8gU2luZ2xlIHBhcnRpY2xlIGluIGNlbnRlciBvZiBzY3JlZW5cclxuICAgICAgY2FzZSAnUG9pbnQnOlxyXG4gICAgICAgIHBhcnRpY2xlQ29vcmRzLnB1c2goe1xyXG4gICAgICAgICAgeDogd2luZG93LmlubmVyV2lkdGggLyAyLFxyXG4gICAgICAgICAgeTogd2luZG93LmlubmVySGVpZ2h0IC8gMlxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBicmVhaztcclxuXHJcbiAgICAgIC8vIFNlcmllcyBvZiBwYXJ0aWNsZXMgZXZlbmx5IHNwYWNlZCBpbiBhIGNpcmNsZSBhcm91bmQgY2VudGVyIG9mIHNjcmVlblxyXG4gICAgICBjYXNlICdSaW5nJzpcclxuICAgICAgICBsZXQgcmFkaXVzID0gMTAwLFxyXG4gICAgICAgICAgbnVtUGFydGljbGVzID0gMjA7XHJcblxyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbnVtUGFydGljbGVzOyBpKyspIHtcclxuICAgICAgICAgIHBhcnRpY2xlQ29vcmRzLnB1c2goe1xyXG4gICAgICAgICAgICB4OiB3aW5kb3cuaW5uZXJXaWR0aCAvIDIgKyByYWRpdXMgKiBNYXRoLmNvcygoMzYwIC8gbnVtUGFydGljbGVzKSAqIGkgKiBNYXRoLlBJIC8gMTgwKSxcclxuICAgICAgICAgICAgeTogd2luZG93LmlubmVySGVpZ2h0IC8gMiArIHJhZGl1cyAqIE1hdGguc2luKCgzNjAgLyBudW1QYXJ0aWNsZXMpICogaSAqIE1hdGguUEkgLyAxODApXHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgLy8gSW5kaXZpZHVhbCBwYXJ0aWNsZXMgcmFuZG9tbHkgZGlzdHJpYnV0ZWQgYWNyb3NzIGVudGlyZSBzY3JlZW5cclxuICAgICAgY2FzZSAnUmFuZG9tJzpcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDU7IGkrKykge1xyXG4gICAgICAgICAgcGFydGljbGVDb29yZHMucHVzaCh7XHJcbiAgICAgICAgICAgIHg6IHA1LnJhbmRvbSh3b3JsZC5lZGdlcy5sZWZ0LCB3b3JsZC5lZGdlcy5yaWdodCksXHJcbiAgICAgICAgICAgIHk6IHA1LnJhbmRvbSh3b3JsZC5lZGdlcy50b3AsIHdvcmxkLmVkZ2VzLmJvdHRvbSlcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAvLyBMaW5lIG9mIHBhcnRpY2xlcyBhbG9uZyBhbiBlZGdlIG9mIHRoZSBzY3JlZW4gb3IgZnJhbWVcclxuICAgICAgY2FzZSAnV2FsbCc6XHJcbiAgICAgICAgc3dpdGNoKHdvcmxkLnNldHRpbmdzLkJpYXNUb3dhcmRzKSB7XHJcbiAgICAgICAgICBjYXNlICdUb3AnOlxyXG4gICAgICAgICAgICBwYXJ0aWNsZUNvb3JkcyA9IGNyZWF0ZUhvcml6b250YWxDbHVzdGVyV2FsbCh3b3JsZC5lZGdlcy50b3ApO1xyXG4gICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICBjYXNlICdCb3R0b20nOlxyXG4gICAgICAgICAgICBwYXJ0aWNsZUNvb3JkcyA9IGNyZWF0ZUhvcml6b250YWxDbHVzdGVyV2FsbCh3b3JsZC5lZGdlcy5ib3R0b20pO1xyXG4gICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICBjYXNlICdMZWZ0JzpcclxuICAgICAgICAgICAgcGFydGljbGVDb29yZHMgPSBjcmVhdGVWZXJ0aWNhbENsdXN0ZXJXYWxsKHdvcmxkLmVkZ2VzLmxlZnQpO1xyXG4gICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICBjYXNlICdSaWdodCc6XHJcbiAgICAgICAgICAgIHBhcnRpY2xlQ29vcmRzID0gY3JlYXRlVmVydGljYWxDbHVzdGVyV2FsbCh3b3JsZC5lZGdlcy5yaWdodCk7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICB9XHJcblxyXG4gICAgd29ybGQuY3JlYXRlQ2x1c3RlckZyb21Db29yZHMocGFydGljbGVDb29yZHMpO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gY3JlYXRlSG9yaXpvbnRhbENsdXN0ZXJXYWxsKGVkZ2UpIHtcclxuICAgIGxldCBjb29yZHMgPSBbXSxcclxuICAgICAgICB3aWR0aCA9IFNldHRpbmdzLlVzZUZyYW1lID8gOTAwIDogd2luZG93LmlubmVyV2lkdGg7XHJcblxyXG4gICAgZm9yKGxldCBpID0gMDsgaSA8PSB3aWR0aC9TZXR0aW5ncy5DaXJjbGVEaWFtZXRlcjsgaSsrKSB7XHJcbiAgICAgIGNvb3Jkcy5wdXNoKHtcclxuICAgICAgICB4OiB3b3JsZC5lZGdlcy5sZWZ0ICsgaSpTZXR0aW5ncy5DaXJjbGVEaWFtZXRlcixcclxuICAgICAgICB5OiBlZGdlXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBjb29yZHM7XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBjcmVhdGVWZXJ0aWNhbENsdXN0ZXJXYWxsKGVkZ2UpIHtcclxuICAgIGxldCBjb29yZHMgPSBbXSxcclxuICAgICAgICBoZWlnaHQgPSBTZXR0aW5ncy5Vc2VGcmFtZSA/IDkwMCA6IHdpbmRvdy5pbm5lckhlaWdodDtcclxuXHJcbiAgICBmb3IobGV0IGkgPSAwOyBpIDw9IGhlaWdodC9TZXR0aW5ncy5DaXJjbGVEaWFtZXRlcjsgaSsrKSB7XHJcbiAgICAgIGNvb3Jkcy5wdXNoKHtcclxuICAgICAgICB4OiBlZGdlLFxyXG4gICAgICAgIHk6IHdvcmxkLmVkZ2VzLnRvcCArIGkqU2V0dGluZ3MuQ2lyY2xlRGlhbWV0ZXJcclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGNvb3JkcztcclxuICB9XHJcblxyXG4gIC8vIEtleSBoYW5kbGVyIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gIHA1LmtleVJlbGVhc2VkID0gZnVuY3Rpb24gKCkge1xyXG4gICAgc3dpdGNoIChwNS5rZXkpIHtcclxuICAgICAgY2FzZSAnICc6XHJcbiAgICAgICAgd29ybGQudG9nZ2xlUGF1c2UoKTtcclxuICAgICAgICBicmVhaztcclxuXHJcbiAgICAgIGNhc2UgJ3cnOlxyXG4gICAgICAgIHdvcmxkLnRvZ2dsZVNob3dXYWxrZXJzKCk7XHJcbiAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICBjYXNlICdjJzpcclxuICAgICAgICB3b3JsZC50b2dnbGVTaG93Q2x1c3RlcnMoKTtcclxuICAgICAgICBicmVhaztcclxuXHJcbiAgICAgIGNhc2UgJ3InOlxyXG4gICAgICAgIHJlc2V0V29ybGQoKTtcclxuICAgICAgICBicmVhaztcclxuXHJcbiAgICAgIC8vIFVzZSBudW1iZXJzIHRvIGNoYW5nZSBiaWFzIGRpcmVjdGlvblxyXG4gICAgICBjYXNlICcxJzpcclxuICAgICAgICB3b3JsZC5wYXVzZSgpO1xyXG4gICAgICAgIGluaXRpYWxDbHVzdGVyVHlwZSA9ICdQb2ludCc7XHJcbiAgICAgICAgd29ybGQuc2V0dGluZ3MuQmlhc1Rvd2FyZHMgPSAnQ2VudGVyJztcclxuICAgICAgICByZXNldFdvcmxkKCk7XHJcbiAgICAgICAgd29ybGQudW5wYXVzZSgpO1xyXG4gICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgY2FzZSAnMic6XHJcbiAgICAgICAgd29ybGQucGF1c2UoKTtcclxuICAgICAgICBpbml0aWFsQ2x1c3RlclR5cGUgPSAnV2FsbCc7XHJcbiAgICAgICAgd29ybGQuc2V0dGluZ3MuQmlhc1Rvd2FyZHMgPSAnQm90dG9tJztcclxuICAgICAgICByZXNldFdvcmxkKCk7XHJcbiAgICAgICAgd29ybGQudW5wYXVzZSgpO1xyXG4gICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgY2FzZSAnMyc6XHJcbiAgICAgICAgd29ybGQucGF1c2UoKTtcclxuICAgICAgICBpbml0aWFsQ2x1c3RlclR5cGUgPSAnV2FsbCc7XHJcbiAgICAgICAgd29ybGQuc2V0dGluZ3MuQmlhc1Rvd2FyZHMgPSAnVG9wJztcclxuICAgICAgICByZXNldFdvcmxkKCk7XHJcbiAgICAgICAgd29ybGQudW5wYXVzZSgpO1xyXG4gICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgY2FzZSAnNCc6XHJcbiAgICAgICAgd29ybGQucGF1c2UoKTtcclxuICAgICAgICBpbml0aWFsQ2x1c3RlclR5cGUgPSAnV2FsbCc7XHJcbiAgICAgICAgd29ybGQuc2V0dGluZ3MuQmlhc1Rvd2FyZHMgPSAnTGVmdCc7XHJcbiAgICAgICAgcmVzZXRXb3JsZCgpO1xyXG4gICAgICAgIHdvcmxkLnVucGF1c2UoKTtcclxuICAgICAgICBicmVhaztcclxuXHJcbiAgICAgIGNhc2UgJzUnOlxyXG4gICAgICAgIHdvcmxkLnBhdXNlKCk7XHJcbiAgICAgICAgaW5pdGlhbENsdXN0ZXJUeXBlID0gJ1dhbGwnO1xyXG4gICAgICAgIHdvcmxkLnNldHRpbmdzLkJpYXNUb3dhcmRzID0gJ1JpZ2h0JztcclxuICAgICAgICByZXNldFdvcmxkKCk7XHJcbiAgICAgICAgd29ybGQudW5wYXVzZSgpO1xyXG4gICAgICAgIGJyZWFrO1xyXG5cclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbi8vIExhdW5jaCB0aGUgc2tldGNoIHVzaW5nIHA1anMgaW4gaW5zdGFudGlhdGVkIG1vZGVcclxubmV3IHA1KHNrZXRjaCk7Il0sInNvdXJjZVJvb3QiOiIifQ==